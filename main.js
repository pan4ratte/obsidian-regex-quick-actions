/*
THIS IS A GENERATED/BUNDLED FILE BY ROLLUP
if you want to view the source visit the plugins github repository
*/

'use strict';

var obsidian = require('obsidian');

/******************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */

function __awaiter(thisArg, _arguments, P, generator) {
    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }
    return new (P || (P = Promise))(function (resolve, reject) {
        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }
        function rejected(value) { try { step(generator["throw"](value)); } catch (e) { reject(e); } }
        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }
        step((generator = generator.apply(thisArg, _arguments || [])).next());
    });
}

typeof SuppressedError === "function" ? SuppressedError : function (error, suppressed, message) {
    var e = new Error(message);
    return e.name = "SuppressedError", e.error = error, e.suppressed = suppressed, e;
};

var en = {
    /* Section headers */
    PLUGIN_SETTINGS_HEADER: "Regex Quick Actions settings",
    MANAGE_SECTION_HEADER: "Manage quick actions",
    GENERAL_SECTION_HEADER: "General",
    PLUGIN_DESC: "This plugin allows you to create and quickly apply regex actions via: the command palette (any action), the file explorer context menu (default action), the file context menu (default action). Every saved action becomes a palette command, which ensures automatisation possibilities.",
    /* Generic buttons */
    ADD: "Add",
    SAVE: "Save",
    CANCEL: "Cancel",
    YES: "Yes",
    EDIT: "Edit",
    DELETE: "Delete",
    /* Dialog texts */
    DELETE_HEADER: "Delete quick action",
    DELETE_CONFIRM: "Are you sure you want to delete quick action \"{}\"?",
    FOLDER_ACTION_CONFIRM_TITLE: "Run quick action on folder",
    FOLDER_ACTION_CONFIRM_MSG: "Are you sure that you want to run default quick action on every file inside this folder? This action is irreversible.",
    /* Descriptions */
    PLACEHOLDER_NAME: "Used to call quick actions via command palette",
    PLACEHOLDER_SEARCH: "Search pattern",
    PLACEHOLDER_FLAGS: "e.g. gm",
    PLACEHOLDER_REPLACEMENT: "Replacement text",
    ADD_QUICK_ACTION: "New quick action",
    ACTION_NAME: "Quick action name",
    SEARCH_REGEX: "Regex rule",
    FLAGS: "Flags",
    REPLACEMENT: "Replacement",
    SET_AS_DEFAULT: "Set as default quick action",
    RUN_DEFAULT: "Run default quick action",
    RUN_DEFAULT_ON_FOLDER: "Run default quick action on folder",
    CONFIRM_FOLDER_ACTION: "Confirmation for quick action on folder",
    CONFIRM_FOLDER_ACTION_DESC: "Show a confirmation dialog before running quick action on every file inside a chosen folder.",
    /* Errors and messages */
    NAME_EMPTY_ERR: "Error: Quick action name cannot be empty!",
    NAME_EXISTS_ERR: "Error: An action with this name already exists!",
    PATTERN_EMPTY_ERR: "Error: Regex pattern cannot be empty!",
    FLAGS_INVALID_ERR: "Error: Invalid regex flags provided!",
    REGEX_INVALID_ERR: "Error: Invalid regular expression syntax!",
    NOT_FOUND_ERR: " not found!",
    EXECUTED_MSG: "Executed '{}' with {} replacements."
};

const MESSAGES = {
    en: en,
};
const locale = obsidian.moment.locale();
/**
 * Translates a key into the current locale string.
 * @param key - A valid key from the locale files
 * @param args - Values to replace '{}' placeholders in the string
 */
const t = (key, ...args) => {
    const lang = MESSAGES[locale] ? locale : 'en';
    let text = MESSAGES[lang][key] || MESSAGES['en'][key];
    args.forEach(arg => {
        text = text.replace('{}', String(arg));
    });
    return text;
};

const DEFAULT_SETTINGS = {
    rules: [],
    defaultRule: null,
    confirmFolderAction: true
};
class RegexQuickActions extends obsidian.Plugin {
    onload() {
        return __awaiter(this, void 0, void 0, function* () {
            yield this.loadSettings();
            this.pathToRulesets = this.app.vault.configDir + "/regex-rulesets";
            this.addSettingTab(new RegexQuickActionsSettingsTab(this.app, this));
            this.settings.rules.forEach(ruleName => {
                this.addRuleCommand(ruleName);
            });
            this.registerEvent(this.app.workspace.on("file-menu", (menu, file) => {
                if (file instanceof obsidian.TFile && this.settings.defaultRule) {
                    menu.addItem((item) => {
                        item
                            .setTitle(t('RUN_DEFAULT'))
                            .setIcon("play")
                            .onClick(() => __awaiter(this, void 0, void 0, function* () {
                            yield this.applyRulesetToFile(file, this.settings.defaultRule);
                        }));
                    });
                }
                if (file instanceof obsidian.TFolder && this.settings.defaultRule) {
                    menu.addItem((item) => {
                        item
                            .setTitle(t('RUN_DEFAULT_ON_FOLDER'))
                            .setIcon("play")
                            .onClick(() => {
                            const run = () => __awaiter(this, void 0, void 0, function* () {
                                yield this.applyRulesetToFolder(file, this.settings.defaultRule);
                            });
                            if (this.settings.confirmFolderAction) {
                                new ConfirmationModal(this.app, t('FOLDER_ACTION_CONFIRM_TITLE'), t('FOLDER_ACTION_CONFIRM_MSG'), t('YES'), run).open();
                            }
                            else {
                                run();
                            }
                        });
                    });
                }
            }));
            this.registerEvent(this.app.workspace.on("editor-menu", (menu) => {
                if (this.settings.defaultRule) {
                    menu.addItem((item) => {
                        item
                            .setTitle(t('RUN_DEFAULT'))
                            .setIcon("play")
                            .onClick(() => __awaiter(this, void 0, void 0, function* () {
                            yield this.applyRuleset(this.pathToRulesets + "/" + this.settings.defaultRule);
                        }));
                    });
                }
            }));
            yield this.reloadRulesets();
        });
    }
    getCommandId(name) {
        return `apply-rule-${name.toLowerCase().replace(/[^a-z0-9]/g, '-')}`;
    }
    addRuleCommand(name) {
        this.addCommand({
            id: this.getCommandId(name),
            name: `${name}`,
            checkCallback: (checking) => {
                const activeMarkdownView = this.app.workspace.getActiveViewOfType(obsidian.MarkdownView);
                if (activeMarkdownView) {
                    if (!checking) {
                        this.applyRuleset(this.pathToRulesets + "/" + name);
                    }
                    return true;
                }
                return false;
            }
        });
    }
    loadSettings() {
        return __awaiter(this, void 0, void 0, function* () {
            this.settings = Object.assign({}, DEFAULT_SETTINGS, yield this.loadData());
        });
    }
    saveSettings() {
        return __awaiter(this, void 0, void 0, function* () {
            yield this.saveData(this.settings);
        });
    }
    reloadRulesets() {
        return __awaiter(this, void 0, void 0, function* () {
            if (!(yield this.app.vault.adapter.exists(this.pathToRulesets))) {
                yield this.app.vault.createFolder(this.pathToRulesets);
            }
        });
    }
    createRuleset(name, content) {
        return __awaiter(this, void 0, void 0, function* () {
            this.settings.rules.unshift(name);
            const path = this.pathToRulesets + "/" + name;
            yield this.app.vault.adapter.write(path, content);
            yield this.saveSettings();
            this.addRuleCommand(name);
            return true;
        });
    }
    updateRuleset(oldName, newName, content) {
        return __awaiter(this, void 0, void 0, function* () {
            const oldPath = this.pathToRulesets + "/" + oldName;
            const newPath = this.pathToRulesets + "/" + newName;
            yield this.app.vault.adapter.write(newPath, content);
            if (oldName !== newName) {
                if (yield this.app.vault.adapter.exists(oldPath)) {
                    yield this.app.vault.adapter.remove(oldPath);
                }
                this.app.commands.removeCommand(`${this.manifest.id}:${this.getCommandId(oldName)}`);
                const index = this.settings.rules.indexOf(oldName);
                if (index !== -1) {
                    this.settings.rules[index] = newName;
                    if (this.settings.defaultRule === oldName)
                        this.settings.defaultRule = newName;
                    yield this.saveSettings();
                    this.addRuleCommand(newName);
                }
            }
        });
    }
    deleteRuleset(name) {
        return __awaiter(this, void 0, void 0, function* () {
            const path = this.pathToRulesets + "/" + name;
            if (yield this.app.vault.adapter.exists(path)) {
                yield this.app.vault.adapter.remove(path);
            }
            this.app.commands.removeCommand(`${this.manifest.id}:${this.getCommandId(name)}`);
            this.settings.rules = this.settings.rules.filter(r => r !== name);
            if (this.settings.defaultRule === name)
                this.settings.defaultRule = null;
            yield this.saveSettings();
        });
    }
    applyRulesetToFile(file, rulesetName) {
        return __awaiter(this, void 0, void 0, function* () {
            const path = this.pathToRulesets + "/" + rulesetName;
            if (!(yield this.app.vault.adapter.exists(path)))
                return;
            const ruleText = yield this.app.vault.adapter.read(path);
            const count = yield this.modifyFile(file, ruleText, rulesetName);
            new obsidian.Notice(t('EXECUTED_MSG', rulesetName, count));
        });
    }
    applyRulesetToFolder(folder, rulesetName) {
        return __awaiter(this, void 0, void 0, function* () {
            const path = this.pathToRulesets + "/" + rulesetName;
            if (!(yield this.app.vault.adapter.exists(path)))
                return;
            const ruleText = yield this.app.vault.adapter.read(path);
            const files = this.app.vault.getMarkdownFiles().filter(f => f.path.startsWith(folder.path + "/"));
            let totalCount = 0;
            for (const file of files) {
                totalCount += yield this.modifyFile(file, ruleText, rulesetName);
            }
            new obsidian.Notice(t('EXECUTED_MSG', rulesetName, totalCount));
        });
    }
    modifyFile(file, ruleText, rulesetName) {
        var _a;
        return __awaiter(this, void 0, void 0, function* () {
            const activeView = this.app.workspace.getActiveViewOfType(obsidian.MarkdownView);
            if (activeView && ((_a = activeView.file) === null || _a === void 0 ? void 0 : _a.path) === file.path) {
                const editor = activeView.editor;
                const scroll = editor.getScrollInfo();
                const cursor = editor.getCursor();
                const result = this.processRegex(editor.getValue(), ruleText, rulesetName);
                editor.setValue(result.content);
                editor.setCursor(cursor);
                editor.scrollTo(0, scroll.top);
                return result.count;
            }
            else {
                const fileContent = yield this.app.vault.read(file);
                const result = this.processRegex(fileContent, ruleText, rulesetName);
                yield this.app.vault.modify(file, result.content);
                return result.count;
            }
        });
    }
    processRegex(subject, ruleText, rulesetName) {
        const ruleParser = /^"(.+?)"([a-z]*?)(?:\r\n|\r|\n)?->(?:\r\n|\r|\n)?"(.*?)"([a-z]*?)(?:\r\n|\r|\n)?$/gmus;
        let count = 0;
        let ruleMatches;
        let output = subject;
        while ((ruleMatches = ruleParser.exec(ruleText)) !== null) {
            const [, pattern, flags, replacement, mode] = ruleMatches;
            try {
                const matchRule = new RegExp(pattern, flags || 'gm');
                output = mode === 'x' ? output.replace(matchRule, '') : output.replace(matchRule, replacement);
                count++;
            }
            catch (e) {
                console.error(`Regex Quick Actions: Invalid Regex in ${rulesetName}`, e);
            }
        }
        return { content: output, count };
    }
    applyRuleset(rulesetPath) {
        return __awaiter(this, void 0, void 0, function* () {
            if (!(yield this.app.vault.adapter.exists(rulesetPath))) {
                new obsidian.Notice(rulesetPath + t('NOT_FOUND_ERR'));
                return;
            }
            const ruleText = yield this.app.vault.adapter.read(rulesetPath);
            const activeMarkdownView = this.app.workspace.getActiveViewOfType(obsidian.MarkdownView);
            if (!activeMarkdownView)
                return;
            const editor = activeMarkdownView.editor;
            const subject = editor.somethingSelected() ? editor.getSelection() : editor.getValue();
            const pos = editor.getScrollInfo();
            const result = this.processRegex(subject, ruleText, rulesetPath);
            if (editor.somethingSelected())
                editor.replaceSelection(result.content);
            else
                editor.setValue(result.content);
            editor.scrollTo(0, pos.top);
            new obsidian.Notice(t('EXECUTED_MSG', rulesetPath.split('/').pop() || '', result.count));
        });
    }
}
class ConfirmationModal extends obsidian.Modal {
    constructor(app, title, message, confirmBtnText, onConfirm) {
        super(app);
        this.title = title;
        this.message = message;
        this.confirmBtnText = confirmBtnText;
        this.onConfirm = onConfirm;
    }
    onOpen() {
        const { contentEl } = this;
        this.titleEl.setText(this.title);
        contentEl.createEl("p", { text: this.message });
        const btnContainer = contentEl.createEl("div", { cls: "orp-modal-buttons" });
        new obsidian.ButtonComponent(btnContainer).setButtonText(t('CANCEL')).onClick(() => this.close());
        new obsidian.ButtonComponent(btnContainer).setButtonText(this.confirmBtnText).setWarning().onClick(() => {
            this.onConfirm();
            this.close();
        });
    }
    onClose() { this.contentEl.empty(); }
}
class RegexQuickActionsSettingsTab extends obsidian.PluginSettingTab {
    constructor(app, plugin) {
        super(app, plugin);
        this.showCreationForm = false;
        this.editingRule = null;
        this.tempName = "";
        this.tempPattern = "";
        this.tempFlags = "gm";
        this.tempReplacement = "";
        this.tempIsDefault = false;
        this.plugin = plugin;
    }
    display() {
        const { containerEl } = this;
        containerEl.empty();
        new obsidian.Setting(containerEl)
            .setHeading()
            .setName(t('PLUGIN_SETTINGS_HEADER'));
        containerEl.createEl("p", { text: t('PLUGIN_DESC'), cls: "orp-settings-description" });
        new obsidian.Setting(containerEl)
            .setHeading()
            .setName(t('GENERAL_SECTION_HEADER'));
        new obsidian.Setting(containerEl)
            .setName(t('CONFIRM_FOLDER_ACTION'))
            .setDesc(t('CONFIRM_FOLDER_ACTION_DESC'))
            .addToggle(toggle => toggle
            .setValue(this.plugin.settings.confirmFolderAction)
            .onChange((value) => __awaiter(this, void 0, void 0, function* () {
            this.plugin.settings.confirmFolderAction = value;
            yield this.plugin.saveSettings();
        })));
        new obsidian.Setting(containerEl)
            .setHeading()
            .setName(t('MANAGE_SECTION_HEADER'));
        new obsidian.Setting(containerEl)
            .setName(t('ADD_QUICK_ACTION'))
            .addButton(btn => btn
            .setButtonText(t('ADD'))
            .setCta()
            .onClick(() => {
            this.resetTempFields();
            this.showCreationForm = !this.showCreationForm;
            this.display();
        }));
        if (this.showCreationForm) {
            const formContainer = containerEl.createEl("div", { cls: "orp-creation-row" });
            this.renderFormFields(formContainer, () => this.handleSave());
        }
        const listWrapper = containerEl.createEl("div", { cls: "orp-saved-list" });
        this.plugin.settings.rules.forEach((name) => __awaiter(this, void 0, void 0, function* () {
            const itemRow = listWrapper.createEl("div", { cls: "orp-saved-rule-item" });
            if (this.editingRule === name) {
                this.renderFormFields(itemRow, () => this.handleUpdate(name), true);
            }
            else {
                let content = "";
                // FIXED: added comment to empty catch block to satisfy no-empty linter rule
                try {
                    content = yield this.plugin.app.vault.adapter.read(this.plugin.pathToRulesets + "/" + name);
                }
                catch ( /* ignore if file doesn't exist */_a) { /* ignore if file doesn't exist */ }
                const { pattern, flags, replacement } = this.parseRuleContent(content);
                const nameWrap = itemRow.createEl("div", { cls: "orp-input-wrap orp-name-field" });
                nameWrap.createEl("small", { text: t('ACTION_NAME'), cls: "orp-label" });
                nameWrap.createEl("div", { text: name, cls: "orp-saved-text-display" });
                const fieldsRow = itemRow.createEl("div", { cls: "orp-fields-row" });
                this.createDisplayField(fieldsRow, t('SEARCH_REGEX'), pattern, "orp-pattern-field");
                this.createDisplayField(fieldsRow, t('FLAGS'), flags, "orp-flags-field");
                this.createDisplayField(fieldsRow, t('REPLACEMENT'), replacement, "orp-replacement-field");
                const actionsWrap = itemRow.createEl("div", { cls: "orp-input-wrap orp-creation-actions" });
                const defaultWrap = actionsWrap.createEl("div", { cls: "orp-default-toggle-wrap" });
                new obsidian.ToggleComponent(defaultWrap)
                    .setValue(this.plugin.settings.defaultRule === name)
                    .onChange((value) => __awaiter(this, void 0, void 0, function* () {
                    this.plugin.settings.defaultRule = value ? name : null;
                    yield this.plugin.saveSettings();
                    this.display();
                }));
                defaultWrap.createSpan({ text: t('SET_AS_DEFAULT'), cls: "orp-toggle-label" });
                const buttons = actionsWrap.createEl("div", { cls: "orp-action-buttons" });
                new obsidian.ButtonComponent(buttons).setButtonText(t('EDIT')).onClick(() => {
                    this.parseContentToFields(name, content);
                    this.editingRule = name;
                    this.showCreationForm = false;
                    this.display();
                });
                new obsidian.ButtonComponent(buttons).setButtonText(t('DELETE')).setWarning().onClick(() => {
                    new ConfirmationModal(this.app, t('DELETE_HEADER'), t('DELETE_CONFIRM', name), t('YES'), () => __awaiter(this, void 0, void 0, function* () {
                        yield this.plugin.deleteRuleset(name);
                        this.display();
                    })).open();
                });
            }
        }));
    }
    createDisplayField(parent, label, val, cls) {
        const wrap = parent.createEl("div", { cls: `orp-input-wrap ${cls}` });
        wrap.createEl("small", { text: label, cls: "orp-label" });
        wrap.createEl("div", { text: val, cls: "orp-saved-text-display" });
    }
    renderFormFields(container, onConfirm, isUpdate = false) {
        const nameWrap = container.createEl("div", { cls: "orp-input-wrap orp-name-field" });
        nameWrap.createEl("small", { text: t('ACTION_NAME'), cls: "orp-label" });
        this.nameInputEl = nameWrap.createEl("input", { type: "text", value: this.tempName, placeholder: t('PLACEHOLDER_NAME'), cls: "orp-input" });
        this.nameInputEl.addEventListener("input", (e) => this.tempName = e.target.value);
        const fieldsRow = container.createEl("div", { cls: "orp-fields-row" });
        this.patternInputEl = this.createInputField(fieldsRow, t('SEARCH_REGEX'), this.tempPattern, t('PLACEHOLDER_SEARCH'), "orp-pattern-field", (v) => this.tempPattern = v);
        this.flagsInputEl = this.createInputField(fieldsRow, t('FLAGS'), this.tempFlags, t('PLACEHOLDER_FLAGS'), "orp-flags-field", (v) => this.tempFlags = v);
        this.createInputField(fieldsRow, t('REPLACEMENT'), this.tempReplacement, t('PLACEHOLDER_REPLACEMENT'), "orp-replacement-field", (v) => this.tempReplacement = v);
        const actionsWrap = container.createEl("div", { cls: "orp-input-wrap orp-creation-actions" });
        const defaultWrap = actionsWrap.createEl("div", { cls: "orp-default-toggle-wrap" });
        const initialToggleValue = isUpdate ? (this.plugin.settings.defaultRule === this.editingRule) : this.tempIsDefault;
        new obsidian.ToggleComponent(defaultWrap)
            .setValue(initialToggleValue)
            .onChange((value) => __awaiter(this, void 0, void 0, function* () {
            if (isUpdate) {
                this.plugin.settings.defaultRule = value ? this.tempName : null;
                yield this.plugin.saveSettings();
            }
            else {
                this.tempIsDefault = value;
            }
        }));
        defaultWrap.createSpan({ text: t('SET_AS_DEFAULT'), cls: "orp-toggle-label" });
        const buttons = actionsWrap.createEl("div", { cls: "orp-action-buttons" });
        new obsidian.ButtonComponent(buttons).setButtonText(isUpdate ? t('SAVE') : t('SAVE')).setCta().onClick(onConfirm);
        new obsidian.ButtonComponent(buttons).setButtonText(t('CANCEL')).onClick(() => {
            this.editingRule = null;
            this.showCreationForm = false;
            this.display();
        });
    }
    createInputField(parent, label, val, ph, cls, onChange) {
        const wrap = parent.createEl("div", { cls: `orp-input-wrap ${cls}` });
        wrap.createEl("small", { text: label, cls: "orp-label" });
        const input = wrap.createEl("input", { type: "text", value: val, placeholder: ph, cls: "orp-input" });
        input.addEventListener("input", (e) => onChange(e.target.value));
        return input;
    }
    triggerFieldError(el) {
        if (!el)
            return;
        el.classList.remove('field-error');
        void el.offsetWidth;
        el.classList.add('field-error');
    }
    validateInputs(isUpdate = false) {
        const trimmedName = this.tempName.trim();
        if (!trimmedName) {
            new obsidian.Notice(t('NAME_EMPTY_ERR'));
            this.triggerFieldError(this.nameInputEl);
            return false;
        }
        const nameExists = this.plugin.settings.rules.some(name => name.toLowerCase() === trimmedName.toLowerCase() && (!isUpdate || name !== this.editingRule));
        if (nameExists) {
            new obsidian.Notice(t('NAME_EXISTS_ERR'));
            this.triggerFieldError(this.nameInputEl);
            return false;
        }
        if (!this.tempPattern.trim()) {
            new obsidian.Notice(t('PATTERN_EMPTY_ERR'));
            this.triggerFieldError(this.patternInputEl);
            return false;
        }
        try {
            new RegExp(this.tempPattern, this.tempFlags || 'gm');
        }
        catch (e) {
            const errorMsg = e instanceof Error ? e.message.toLowerCase() : String(e).toLowerCase();
            const isFlagError = errorMsg.includes("flag") || /[^gimsuy]/.test(this.tempFlags);
            if (isFlagError) {
                new obsidian.Notice(t('FLAGS_INVALID_ERR'));
                this.triggerFieldError(this.flagsInputEl);
            }
            else {
                new obsidian.Notice(t('REGEX_INVALID_ERR'));
                this.triggerFieldError(this.patternInputEl);
            }
            return false;
        }
        return true;
    }
    handleSave() {
        return __awaiter(this, void 0, void 0, function* () {
            if (!this.validateInputs(false))
                return;
            const content = `"${this.tempPattern}"${this.tempFlags}\n->\n"${this.tempReplacement}"`;
            yield this.plugin.createRuleset(this.tempName, content);
            if (this.tempIsDefault) {
                this.plugin.settings.defaultRule = this.tempName;
                yield this.plugin.saveSettings();
            }
            this.showCreationForm = false;
            this.display();
        });
    }
    handleUpdate(oldName) {
        return __awaiter(this, void 0, void 0, function* () {
            if (!this.validateInputs(true))
                return;
            const content = `"${this.tempPattern}"${this.tempFlags}\n->\n"${this.tempReplacement}"`;
            yield this.plugin.updateRuleset(oldName, this.tempName, content);
            this.editingRule = null;
            this.display();
        });
    }
    parseRuleContent(content) {
        const parser = /^"(.+?)"([a-z]*?)(?:\r\n|\r|\n)?->(?:\r\n|\r|\n)?"(.*?)"([a-z]*?)$/mus;
        const match = parser.exec(content);
        return {
            pattern: match ? match[1] : "",
            flags: match ? match[2] : "gm",
            replacement: match ? match[3] : ""
        };
    }
    parseContentToFields(name, content) {
        const data = this.parseRuleContent(content);
        this.tempName = name;
        this.tempPattern = data.pattern;
        this.tempFlags = data.flags;
        this.tempReplacement = data.replacement;
    }
    resetTempFields() {
        this.tempName = "";
        this.tempPattern = "";
        this.tempFlags = "gm";
        this.tempReplacement = "";
        this.tempIsDefault = false;
        this.editingRule = null;
    }
}

module.exports = RegexQuickActions;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoibWFpbi5qcyIsInNvdXJjZXMiOlsibm9kZV9tb2R1bGVzL3RzbGliL3RzbGliLmVzNi5qcyIsImxvY2FsZXMvZW4udHMiLCJpMThuLnRzIiwibWFpbi50cyJdLCJzb3VyY2VzQ29udGVudCI6WyIvKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqXHJcbkNvcHlyaWdodCAoYykgTWljcm9zb2Z0IENvcnBvcmF0aW9uLlxyXG5cclxuUGVybWlzc2lvbiB0byB1c2UsIGNvcHksIG1vZGlmeSwgYW5kL29yIGRpc3RyaWJ1dGUgdGhpcyBzb2Z0d2FyZSBmb3IgYW55XHJcbnB1cnBvc2Ugd2l0aCBvciB3aXRob3V0IGZlZSBpcyBoZXJlYnkgZ3JhbnRlZC5cclxuXHJcblRIRSBTT0ZUV0FSRSBJUyBQUk9WSURFRCBcIkFTIElTXCIgQU5EIFRIRSBBVVRIT1IgRElTQ0xBSU1TIEFMTCBXQVJSQU5USUVTIFdJVEhcclxuUkVHQVJEIFRPIFRISVMgU09GVFdBUkUgSU5DTFVESU5HIEFMTCBJTVBMSUVEIFdBUlJBTlRJRVMgT0YgTUVSQ0hBTlRBQklMSVRZXHJcbkFORCBGSVRORVNTLiBJTiBOTyBFVkVOVCBTSEFMTCBUSEUgQVVUSE9SIEJFIExJQUJMRSBGT1IgQU5ZIFNQRUNJQUwsIERJUkVDVCxcclxuSU5ESVJFQ1QsIE9SIENPTlNFUVVFTlRJQUwgREFNQUdFUyBPUiBBTlkgREFNQUdFUyBXSEFUU09FVkVSIFJFU1VMVElORyBGUk9NXHJcbkxPU1MgT0YgVVNFLCBEQVRBIE9SIFBST0ZJVFMsIFdIRVRIRVIgSU4gQU4gQUNUSU9OIE9GIENPTlRSQUNULCBORUdMSUdFTkNFIE9SXHJcbk9USEVSIFRPUlRJT1VTIEFDVElPTiwgQVJJU0lORyBPVVQgT0YgT1IgSU4gQ09OTkVDVElPTiBXSVRIIFRIRSBVU0UgT1JcclxuUEVSRk9STUFOQ0UgT0YgVEhJUyBTT0ZUV0FSRS5cclxuKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiogKi9cclxuLyogZ2xvYmFsIFJlZmxlY3QsIFByb21pc2UsIFN1cHByZXNzZWRFcnJvciwgU3ltYm9sLCBJdGVyYXRvciAqL1xyXG5cclxudmFyIGV4dGVuZFN0YXRpY3MgPSBmdW5jdGlvbihkLCBiKSB7XHJcbiAgICBleHRlbmRTdGF0aWNzID0gT2JqZWN0LnNldFByb3RvdHlwZU9mIHx8XHJcbiAgICAgICAgKHsgX19wcm90b19fOiBbXSB9IGluc3RhbmNlb2YgQXJyYXkgJiYgZnVuY3Rpb24gKGQsIGIpIHsgZC5fX3Byb3RvX18gPSBiOyB9KSB8fFxyXG4gICAgICAgIGZ1bmN0aW9uIChkLCBiKSB7IGZvciAodmFyIHAgaW4gYikgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChiLCBwKSkgZFtwXSA9IGJbcF07IH07XHJcbiAgICByZXR1cm4gZXh0ZW5kU3RhdGljcyhkLCBiKTtcclxufTtcclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBfX2V4dGVuZHMoZCwgYikge1xyXG4gICAgaWYgKHR5cGVvZiBiICE9PSBcImZ1bmN0aW9uXCIgJiYgYiAhPT0gbnVsbClcclxuICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2xhc3MgZXh0ZW5kcyB2YWx1ZSBcIiArIFN0cmluZyhiKSArIFwiIGlzIG5vdCBhIGNvbnN0cnVjdG9yIG9yIG51bGxcIik7XHJcbiAgICBleHRlbmRTdGF0aWNzKGQsIGIpO1xyXG4gICAgZnVuY3Rpb24gX18oKSB7IHRoaXMuY29uc3RydWN0b3IgPSBkOyB9XHJcbiAgICBkLnByb3RvdHlwZSA9IGIgPT09IG51bGwgPyBPYmplY3QuY3JlYXRlKGIpIDogKF9fLnByb3RvdHlwZSA9IGIucHJvdG90eXBlLCBuZXcgX18oKSk7XHJcbn1cclxuXHJcbmV4cG9ydCB2YXIgX19hc3NpZ24gPSBmdW5jdGlvbigpIHtcclxuICAgIF9fYXNzaWduID0gT2JqZWN0LmFzc2lnbiB8fCBmdW5jdGlvbiBfX2Fzc2lnbih0KSB7XHJcbiAgICAgICAgZm9yICh2YXIgcywgaSA9IDEsIG4gPSBhcmd1bWVudHMubGVuZ3RoOyBpIDwgbjsgaSsrKSB7XHJcbiAgICAgICAgICAgIHMgPSBhcmd1bWVudHNbaV07XHJcbiAgICAgICAgICAgIGZvciAodmFyIHAgaW4gcykgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChzLCBwKSkgdFtwXSA9IHNbcF07XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiB0O1xyXG4gICAgfVxyXG4gICAgcmV0dXJuIF9fYXNzaWduLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBfX3Jlc3QocywgZSkge1xyXG4gICAgdmFyIHQgPSB7fTtcclxuICAgIGZvciAodmFyIHAgaW4gcykgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChzLCBwKSAmJiBlLmluZGV4T2YocCkgPCAwKVxyXG4gICAgICAgIHRbcF0gPSBzW3BdO1xyXG4gICAgaWYgKHMgIT0gbnVsbCAmJiB0eXBlb2YgT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scyA9PT0gXCJmdW5jdGlvblwiKVxyXG4gICAgICAgIGZvciAodmFyIGkgPSAwLCBwID0gT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scyhzKTsgaSA8IHAubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgaWYgKGUuaW5kZXhPZihwW2ldKSA8IDAgJiYgT2JqZWN0LnByb3RvdHlwZS5wcm9wZXJ0eUlzRW51bWVyYWJsZS5jYWxsKHMsIHBbaV0pKVxyXG4gICAgICAgICAgICAgICAgdFtwW2ldXSA9IHNbcFtpXV07XHJcbiAgICAgICAgfVxyXG4gICAgcmV0dXJuIHQ7XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBfX2RlY29yYXRlKGRlY29yYXRvcnMsIHRhcmdldCwga2V5LCBkZXNjKSB7XHJcbiAgICB2YXIgYyA9IGFyZ3VtZW50cy5sZW5ndGgsIHIgPSBjIDwgMyA/IHRhcmdldCA6IGRlc2MgPT09IG51bGwgPyBkZXNjID0gT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcih0YXJnZXQsIGtleSkgOiBkZXNjLCBkO1xyXG4gICAgaWYgKHR5cGVvZiBSZWZsZWN0ID09PSBcIm9iamVjdFwiICYmIHR5cGVvZiBSZWZsZWN0LmRlY29yYXRlID09PSBcImZ1bmN0aW9uXCIpIHIgPSBSZWZsZWN0LmRlY29yYXRlKGRlY29yYXRvcnMsIHRhcmdldCwga2V5LCBkZXNjKTtcclxuICAgIGVsc2UgZm9yICh2YXIgaSA9IGRlY29yYXRvcnMubGVuZ3RoIC0gMTsgaSA+PSAwOyBpLS0pIGlmIChkID0gZGVjb3JhdG9yc1tpXSkgciA9IChjIDwgMyA/IGQocikgOiBjID4gMyA/IGQodGFyZ2V0LCBrZXksIHIpIDogZCh0YXJnZXQsIGtleSkpIHx8IHI7XHJcbiAgICByZXR1cm4gYyA+IDMgJiYgciAmJiBPYmplY3QuZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBrZXksIHIpLCByO1xyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gX19wYXJhbShwYXJhbUluZGV4LCBkZWNvcmF0b3IpIHtcclxuICAgIHJldHVybiBmdW5jdGlvbiAodGFyZ2V0LCBrZXkpIHsgZGVjb3JhdG9yKHRhcmdldCwga2V5LCBwYXJhbUluZGV4KTsgfVxyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gX19lc0RlY29yYXRlKGN0b3IsIGRlc2NyaXB0b3JJbiwgZGVjb3JhdG9ycywgY29udGV4dEluLCBpbml0aWFsaXplcnMsIGV4dHJhSW5pdGlhbGl6ZXJzKSB7XHJcbiAgICBmdW5jdGlvbiBhY2NlcHQoZikgeyBpZiAoZiAhPT0gdm9pZCAwICYmIHR5cGVvZiBmICE9PSBcImZ1bmN0aW9uXCIpIHRocm93IG5ldyBUeXBlRXJyb3IoXCJGdW5jdGlvbiBleHBlY3RlZFwiKTsgcmV0dXJuIGY7IH1cclxuICAgIHZhciBraW5kID0gY29udGV4dEluLmtpbmQsIGtleSA9IGtpbmQgPT09IFwiZ2V0dGVyXCIgPyBcImdldFwiIDoga2luZCA9PT0gXCJzZXR0ZXJcIiA/IFwic2V0XCIgOiBcInZhbHVlXCI7XHJcbiAgICB2YXIgdGFyZ2V0ID0gIWRlc2NyaXB0b3JJbiAmJiBjdG9yID8gY29udGV4dEluW1wic3RhdGljXCJdID8gY3RvciA6IGN0b3IucHJvdG90eXBlIDogbnVsbDtcclxuICAgIHZhciBkZXNjcmlwdG9yID0gZGVzY3JpcHRvckluIHx8ICh0YXJnZXQgPyBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKHRhcmdldCwgY29udGV4dEluLm5hbWUpIDoge30pO1xyXG4gICAgdmFyIF8sIGRvbmUgPSBmYWxzZTtcclxuICAgIGZvciAodmFyIGkgPSBkZWNvcmF0b3JzLmxlbmd0aCAtIDE7IGkgPj0gMDsgaS0tKSB7XHJcbiAgICAgICAgdmFyIGNvbnRleHQgPSB7fTtcclxuICAgICAgICBmb3IgKHZhciBwIGluIGNvbnRleHRJbikgY29udGV4dFtwXSA9IHAgPT09IFwiYWNjZXNzXCIgPyB7fSA6IGNvbnRleHRJbltwXTtcclxuICAgICAgICBmb3IgKHZhciBwIGluIGNvbnRleHRJbi5hY2Nlc3MpIGNvbnRleHQuYWNjZXNzW3BdID0gY29udGV4dEluLmFjY2Vzc1twXTtcclxuICAgICAgICBjb250ZXh0LmFkZEluaXRpYWxpemVyID0gZnVuY3Rpb24gKGYpIHsgaWYgKGRvbmUpIHRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgYWRkIGluaXRpYWxpemVycyBhZnRlciBkZWNvcmF0aW9uIGhhcyBjb21wbGV0ZWRcIik7IGV4dHJhSW5pdGlhbGl6ZXJzLnB1c2goYWNjZXB0KGYgfHwgbnVsbCkpOyB9O1xyXG4gICAgICAgIHZhciByZXN1bHQgPSAoMCwgZGVjb3JhdG9yc1tpXSkoa2luZCA9PT0gXCJhY2Nlc3NvclwiID8geyBnZXQ6IGRlc2NyaXB0b3IuZ2V0LCBzZXQ6IGRlc2NyaXB0b3Iuc2V0IH0gOiBkZXNjcmlwdG9yW2tleV0sIGNvbnRleHQpO1xyXG4gICAgICAgIGlmIChraW5kID09PSBcImFjY2Vzc29yXCIpIHtcclxuICAgICAgICAgICAgaWYgKHJlc3VsdCA9PT0gdm9pZCAwKSBjb250aW51ZTtcclxuICAgICAgICAgICAgaWYgKHJlc3VsdCA9PT0gbnVsbCB8fCB0eXBlb2YgcmVzdWx0ICE9PSBcIm9iamVjdFwiKSB0aHJvdyBuZXcgVHlwZUVycm9yKFwiT2JqZWN0IGV4cGVjdGVkXCIpO1xyXG4gICAgICAgICAgICBpZiAoXyA9IGFjY2VwdChyZXN1bHQuZ2V0KSkgZGVzY3JpcHRvci5nZXQgPSBfO1xyXG4gICAgICAgICAgICBpZiAoXyA9IGFjY2VwdChyZXN1bHQuc2V0KSkgZGVzY3JpcHRvci5zZXQgPSBfO1xyXG4gICAgICAgICAgICBpZiAoXyA9IGFjY2VwdChyZXN1bHQuaW5pdCkpIGluaXRpYWxpemVycy51bnNoaWZ0KF8pO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIGlmIChfID0gYWNjZXB0KHJlc3VsdCkpIHtcclxuICAgICAgICAgICAgaWYgKGtpbmQgPT09IFwiZmllbGRcIikgaW5pdGlhbGl6ZXJzLnVuc2hpZnQoXyk7XHJcbiAgICAgICAgICAgIGVsc2UgZGVzY3JpcHRvcltrZXldID0gXztcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICBpZiAodGFyZ2V0KSBPYmplY3QuZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBjb250ZXh0SW4ubmFtZSwgZGVzY3JpcHRvcik7XHJcbiAgICBkb25lID0gdHJ1ZTtcclxufTtcclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBfX3J1bkluaXRpYWxpemVycyh0aGlzQXJnLCBpbml0aWFsaXplcnMsIHZhbHVlKSB7XHJcbiAgICB2YXIgdXNlVmFsdWUgPSBhcmd1bWVudHMubGVuZ3RoID4gMjtcclxuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgaW5pdGlhbGl6ZXJzLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgdmFsdWUgPSB1c2VWYWx1ZSA/IGluaXRpYWxpemVyc1tpXS5jYWxsKHRoaXNBcmcsIHZhbHVlKSA6IGluaXRpYWxpemVyc1tpXS5jYWxsKHRoaXNBcmcpO1xyXG4gICAgfVxyXG4gICAgcmV0dXJuIHVzZVZhbHVlID8gdmFsdWUgOiB2b2lkIDA7XHJcbn07XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gX19wcm9wS2V5KHgpIHtcclxuICAgIHJldHVybiB0eXBlb2YgeCA9PT0gXCJzeW1ib2xcIiA/IHggOiBcIlwiLmNvbmNhdCh4KTtcclxufTtcclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBfX3NldEZ1bmN0aW9uTmFtZShmLCBuYW1lLCBwcmVmaXgpIHtcclxuICAgIGlmICh0eXBlb2YgbmFtZSA9PT0gXCJzeW1ib2xcIikgbmFtZSA9IG5hbWUuZGVzY3JpcHRpb24gPyBcIltcIi5jb25jYXQobmFtZS5kZXNjcmlwdGlvbiwgXCJdXCIpIDogXCJcIjtcclxuICAgIHJldHVybiBPYmplY3QuZGVmaW5lUHJvcGVydHkoZiwgXCJuYW1lXCIsIHsgY29uZmlndXJhYmxlOiB0cnVlLCB2YWx1ZTogcHJlZml4ID8gXCJcIi5jb25jYXQocHJlZml4LCBcIiBcIiwgbmFtZSkgOiBuYW1lIH0pO1xyXG59O1xyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIF9fbWV0YWRhdGEobWV0YWRhdGFLZXksIG1ldGFkYXRhVmFsdWUpIHtcclxuICAgIGlmICh0eXBlb2YgUmVmbGVjdCA9PT0gXCJvYmplY3RcIiAmJiB0eXBlb2YgUmVmbGVjdC5tZXRhZGF0YSA9PT0gXCJmdW5jdGlvblwiKSByZXR1cm4gUmVmbGVjdC5tZXRhZGF0YShtZXRhZGF0YUtleSwgbWV0YWRhdGFWYWx1ZSk7XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBfX2F3YWl0ZXIodGhpc0FyZywgX2FyZ3VtZW50cywgUCwgZ2VuZXJhdG9yKSB7XHJcbiAgICBmdW5jdGlvbiBhZG9wdCh2YWx1ZSkgeyByZXR1cm4gdmFsdWUgaW5zdGFuY2VvZiBQID8gdmFsdWUgOiBuZXcgUChmdW5jdGlvbiAocmVzb2x2ZSkgeyByZXNvbHZlKHZhbHVlKTsgfSk7IH1cclxuICAgIHJldHVybiBuZXcgKFAgfHwgKFAgPSBQcm9taXNlKSkoZnVuY3Rpb24gKHJlc29sdmUsIHJlamVjdCkge1xyXG4gICAgICAgIGZ1bmN0aW9uIGZ1bGZpbGxlZCh2YWx1ZSkgeyB0cnkgeyBzdGVwKGdlbmVyYXRvci5uZXh0KHZhbHVlKSk7IH0gY2F0Y2ggKGUpIHsgcmVqZWN0KGUpOyB9IH1cclxuICAgICAgICBmdW5jdGlvbiByZWplY3RlZCh2YWx1ZSkgeyB0cnkgeyBzdGVwKGdlbmVyYXRvcltcInRocm93XCJdKHZhbHVlKSk7IH0gY2F0Y2ggKGUpIHsgcmVqZWN0KGUpOyB9IH1cclxuICAgICAgICBmdW5jdGlvbiBzdGVwKHJlc3VsdCkgeyByZXN1bHQuZG9uZSA/IHJlc29sdmUocmVzdWx0LnZhbHVlKSA6IGFkb3B0KHJlc3VsdC52YWx1ZSkudGhlbihmdWxmaWxsZWQsIHJlamVjdGVkKTsgfVxyXG4gICAgICAgIHN0ZXAoKGdlbmVyYXRvciA9IGdlbmVyYXRvci5hcHBseSh0aGlzQXJnLCBfYXJndW1lbnRzIHx8IFtdKSkubmV4dCgpKTtcclxuICAgIH0pO1xyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gX19nZW5lcmF0b3IodGhpc0FyZywgYm9keSkge1xyXG4gICAgdmFyIF8gPSB7IGxhYmVsOiAwLCBzZW50OiBmdW5jdGlvbigpIHsgaWYgKHRbMF0gJiAxKSB0aHJvdyB0WzFdOyByZXR1cm4gdFsxXTsgfSwgdHJ5czogW10sIG9wczogW10gfSwgZiwgeSwgdCwgZyA9IE9iamVjdC5jcmVhdGUoKHR5cGVvZiBJdGVyYXRvciA9PT0gXCJmdW5jdGlvblwiID8gSXRlcmF0b3IgOiBPYmplY3QpLnByb3RvdHlwZSk7XHJcbiAgICByZXR1cm4gZy5uZXh0ID0gdmVyYigwKSwgZ1tcInRocm93XCJdID0gdmVyYigxKSwgZ1tcInJldHVyblwiXSA9IHZlcmIoMiksIHR5cGVvZiBTeW1ib2wgPT09IFwiZnVuY3Rpb25cIiAmJiAoZ1tTeW1ib2wuaXRlcmF0b3JdID0gZnVuY3Rpb24oKSB7IHJldHVybiB0aGlzOyB9KSwgZztcclxuICAgIGZ1bmN0aW9uIHZlcmIobikgeyByZXR1cm4gZnVuY3Rpb24gKHYpIHsgcmV0dXJuIHN0ZXAoW24sIHZdKTsgfTsgfVxyXG4gICAgZnVuY3Rpb24gc3RlcChvcCkge1xyXG4gICAgICAgIGlmIChmKSB0aHJvdyBuZXcgVHlwZUVycm9yKFwiR2VuZXJhdG9yIGlzIGFscmVhZHkgZXhlY3V0aW5nLlwiKTtcclxuICAgICAgICB3aGlsZSAoZyAmJiAoZyA9IDAsIG9wWzBdICYmIChfID0gMCkpLCBfKSB0cnkge1xyXG4gICAgICAgICAgICBpZiAoZiA9IDEsIHkgJiYgKHQgPSBvcFswXSAmIDIgPyB5W1wicmV0dXJuXCJdIDogb3BbMF0gPyB5W1widGhyb3dcIl0gfHwgKCh0ID0geVtcInJldHVyblwiXSkgJiYgdC5jYWxsKHkpLCAwKSA6IHkubmV4dCkgJiYgISh0ID0gdC5jYWxsKHksIG9wWzFdKSkuZG9uZSkgcmV0dXJuIHQ7XHJcbiAgICAgICAgICAgIGlmICh5ID0gMCwgdCkgb3AgPSBbb3BbMF0gJiAyLCB0LnZhbHVlXTtcclxuICAgICAgICAgICAgc3dpdGNoIChvcFswXSkge1xyXG4gICAgICAgICAgICAgICAgY2FzZSAwOiBjYXNlIDE6IHQgPSBvcDsgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICBjYXNlIDQ6IF8ubGFiZWwrKzsgcmV0dXJuIHsgdmFsdWU6IG9wWzFdLCBkb25lOiBmYWxzZSB9O1xyXG4gICAgICAgICAgICAgICAgY2FzZSA1OiBfLmxhYmVsKys7IHkgPSBvcFsxXTsgb3AgPSBbMF07IGNvbnRpbnVlO1xyXG4gICAgICAgICAgICAgICAgY2FzZSA3OiBvcCA9IF8ub3BzLnBvcCgpOyBfLnRyeXMucG9wKCk7IGNvbnRpbnVlO1xyXG4gICAgICAgICAgICAgICAgZGVmYXVsdDpcclxuICAgICAgICAgICAgICAgICAgICBpZiAoISh0ID0gXy50cnlzLCB0ID0gdC5sZW5ndGggPiAwICYmIHRbdC5sZW5ndGggLSAxXSkgJiYgKG9wWzBdID09PSA2IHx8IG9wWzBdID09PSAyKSkgeyBfID0gMDsgY29udGludWU7IH1cclxuICAgICAgICAgICAgICAgICAgICBpZiAob3BbMF0gPT09IDMgJiYgKCF0IHx8IChvcFsxXSA+IHRbMF0gJiYgb3BbMV0gPCB0WzNdKSkpIHsgXy5sYWJlbCA9IG9wWzFdOyBicmVhazsgfVxyXG4gICAgICAgICAgICAgICAgICAgIGlmIChvcFswXSA9PT0gNiAmJiBfLmxhYmVsIDwgdFsxXSkgeyBfLmxhYmVsID0gdFsxXTsgdCA9IG9wOyBicmVhazsgfVxyXG4gICAgICAgICAgICAgICAgICAgIGlmICh0ICYmIF8ubGFiZWwgPCB0WzJdKSB7IF8ubGFiZWwgPSB0WzJdOyBfLm9wcy5wdXNoKG9wKTsgYnJlYWs7IH1cclxuICAgICAgICAgICAgICAgICAgICBpZiAodFsyXSkgXy5vcHMucG9wKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgXy50cnlzLnBvcCgpOyBjb250aW51ZTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBvcCA9IGJvZHkuY2FsbCh0aGlzQXJnLCBfKTtcclxuICAgICAgICB9IGNhdGNoIChlKSB7IG9wID0gWzYsIGVdOyB5ID0gMDsgfSBmaW5hbGx5IHsgZiA9IHQgPSAwOyB9XHJcbiAgICAgICAgaWYgKG9wWzBdICYgNSkgdGhyb3cgb3BbMV07IHJldHVybiB7IHZhbHVlOiBvcFswXSA/IG9wWzFdIDogdm9pZCAwLCBkb25lOiB0cnVlIH07XHJcbiAgICB9XHJcbn1cclxuXHJcbmV4cG9ydCB2YXIgX19jcmVhdGVCaW5kaW5nID0gT2JqZWN0LmNyZWF0ZSA/IChmdW5jdGlvbihvLCBtLCBrLCBrMikge1xyXG4gICAgaWYgKGsyID09PSB1bmRlZmluZWQpIGsyID0gaztcclxuICAgIHZhciBkZXNjID0gT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihtLCBrKTtcclxuICAgIGlmICghZGVzYyB8fCAoXCJnZXRcIiBpbiBkZXNjID8gIW0uX19lc01vZHVsZSA6IGRlc2Mud3JpdGFibGUgfHwgZGVzYy5jb25maWd1cmFibGUpKSB7XHJcbiAgICAgICAgZGVzYyA9IHsgZW51bWVyYWJsZTogdHJ1ZSwgZ2V0OiBmdW5jdGlvbigpIHsgcmV0dXJuIG1ba107IH0gfTtcclxuICAgIH1cclxuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShvLCBrMiwgZGVzYyk7XHJcbn0pIDogKGZ1bmN0aW9uKG8sIG0sIGssIGsyKSB7XHJcbiAgICBpZiAoazIgPT09IHVuZGVmaW5lZCkgazIgPSBrO1xyXG4gICAgb1trMl0gPSBtW2tdO1xyXG59KTtcclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBfX2V4cG9ydFN0YXIobSwgbykge1xyXG4gICAgZm9yICh2YXIgcCBpbiBtKSBpZiAocCAhPT0gXCJkZWZhdWx0XCIgJiYgIU9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChvLCBwKSkgX19jcmVhdGVCaW5kaW5nKG8sIG0sIHApO1xyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gX192YWx1ZXMobykge1xyXG4gICAgdmFyIHMgPSB0eXBlb2YgU3ltYm9sID09PSBcImZ1bmN0aW9uXCIgJiYgU3ltYm9sLml0ZXJhdG9yLCBtID0gcyAmJiBvW3NdLCBpID0gMDtcclxuICAgIGlmIChtKSByZXR1cm4gbS5jYWxsKG8pO1xyXG4gICAgaWYgKG8gJiYgdHlwZW9mIG8ubGVuZ3RoID09PSBcIm51bWJlclwiKSByZXR1cm4ge1xyXG4gICAgICAgIG5leHQ6IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgaWYgKG8gJiYgaSA+PSBvLmxlbmd0aCkgbyA9IHZvaWQgMDtcclxuICAgICAgICAgICAgcmV0dXJuIHsgdmFsdWU6IG8gJiYgb1tpKytdLCBkb25lOiAhbyB9O1xyXG4gICAgICAgIH1cclxuICAgIH07XHJcbiAgICB0aHJvdyBuZXcgVHlwZUVycm9yKHMgPyBcIk9iamVjdCBpcyBub3QgaXRlcmFibGUuXCIgOiBcIlN5bWJvbC5pdGVyYXRvciBpcyBub3QgZGVmaW5lZC5cIik7XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBfX3JlYWQobywgbikge1xyXG4gICAgdmFyIG0gPSB0eXBlb2YgU3ltYm9sID09PSBcImZ1bmN0aW9uXCIgJiYgb1tTeW1ib2wuaXRlcmF0b3JdO1xyXG4gICAgaWYgKCFtKSByZXR1cm4gbztcclxuICAgIHZhciBpID0gbS5jYWxsKG8pLCByLCBhciA9IFtdLCBlO1xyXG4gICAgdHJ5IHtcclxuICAgICAgICB3aGlsZSAoKG4gPT09IHZvaWQgMCB8fCBuLS0gPiAwKSAmJiAhKHIgPSBpLm5leHQoKSkuZG9uZSkgYXIucHVzaChyLnZhbHVlKTtcclxuICAgIH1cclxuICAgIGNhdGNoIChlcnJvcikgeyBlID0geyBlcnJvcjogZXJyb3IgfTsgfVxyXG4gICAgZmluYWxseSB7XHJcbiAgICAgICAgdHJ5IHtcclxuICAgICAgICAgICAgaWYgKHIgJiYgIXIuZG9uZSAmJiAobSA9IGlbXCJyZXR1cm5cIl0pKSBtLmNhbGwoaSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGZpbmFsbHkgeyBpZiAoZSkgdGhyb3cgZS5lcnJvcjsgfVxyXG4gICAgfVxyXG4gICAgcmV0dXJuIGFyO1xyXG59XHJcblxyXG4vKiogQGRlcHJlY2F0ZWQgKi9cclxuZXhwb3J0IGZ1bmN0aW9uIF9fc3ByZWFkKCkge1xyXG4gICAgZm9yICh2YXIgYXIgPSBbXSwgaSA9IDA7IGkgPCBhcmd1bWVudHMubGVuZ3RoOyBpKyspXHJcbiAgICAgICAgYXIgPSBhci5jb25jYXQoX19yZWFkKGFyZ3VtZW50c1tpXSkpO1xyXG4gICAgcmV0dXJuIGFyO1xyXG59XHJcblxyXG4vKiogQGRlcHJlY2F0ZWQgKi9cclxuZXhwb3J0IGZ1bmN0aW9uIF9fc3ByZWFkQXJyYXlzKCkge1xyXG4gICAgZm9yICh2YXIgcyA9IDAsIGkgPSAwLCBpbCA9IGFyZ3VtZW50cy5sZW5ndGg7IGkgPCBpbDsgaSsrKSBzICs9IGFyZ3VtZW50c1tpXS5sZW5ndGg7XHJcbiAgICBmb3IgKHZhciByID0gQXJyYXkocyksIGsgPSAwLCBpID0gMDsgaSA8IGlsOyBpKyspXHJcbiAgICAgICAgZm9yICh2YXIgYSA9IGFyZ3VtZW50c1tpXSwgaiA9IDAsIGpsID0gYS5sZW5ndGg7IGogPCBqbDsgaisrLCBrKyspXHJcbiAgICAgICAgICAgIHJba10gPSBhW2pdO1xyXG4gICAgcmV0dXJuIHI7XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBfX3NwcmVhZEFycmF5KHRvLCBmcm9tLCBwYWNrKSB7XHJcbiAgICBpZiAocGFjayB8fCBhcmd1bWVudHMubGVuZ3RoID09PSAyKSBmb3IgKHZhciBpID0gMCwgbCA9IGZyb20ubGVuZ3RoLCBhcjsgaSA8IGw7IGkrKykge1xyXG4gICAgICAgIGlmIChhciB8fCAhKGkgaW4gZnJvbSkpIHtcclxuICAgICAgICAgICAgaWYgKCFhcikgYXIgPSBBcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbChmcm9tLCAwLCBpKTtcclxuICAgICAgICAgICAgYXJbaV0gPSBmcm9tW2ldO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIHJldHVybiB0by5jb25jYXQoYXIgfHwgQXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwoZnJvbSkpO1xyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gX19hd2FpdCh2KSB7XHJcbiAgICByZXR1cm4gdGhpcyBpbnN0YW5jZW9mIF9fYXdhaXQgPyAodGhpcy52ID0gdiwgdGhpcykgOiBuZXcgX19hd2FpdCh2KTtcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIF9fYXN5bmNHZW5lcmF0b3IodGhpc0FyZywgX2FyZ3VtZW50cywgZ2VuZXJhdG9yKSB7XHJcbiAgICBpZiAoIVN5bWJvbC5hc3luY0l0ZXJhdG9yKSB0aHJvdyBuZXcgVHlwZUVycm9yKFwiU3ltYm9sLmFzeW5jSXRlcmF0b3IgaXMgbm90IGRlZmluZWQuXCIpO1xyXG4gICAgdmFyIGcgPSBnZW5lcmF0b3IuYXBwbHkodGhpc0FyZywgX2FyZ3VtZW50cyB8fCBbXSksIGksIHEgPSBbXTtcclxuICAgIHJldHVybiBpID0gT2JqZWN0LmNyZWF0ZSgodHlwZW9mIEFzeW5jSXRlcmF0b3IgPT09IFwiZnVuY3Rpb25cIiA/IEFzeW5jSXRlcmF0b3IgOiBPYmplY3QpLnByb3RvdHlwZSksIHZlcmIoXCJuZXh0XCIpLCB2ZXJiKFwidGhyb3dcIiksIHZlcmIoXCJyZXR1cm5cIiwgYXdhaXRSZXR1cm4pLCBpW1N5bWJvbC5hc3luY0l0ZXJhdG9yXSA9IGZ1bmN0aW9uICgpIHsgcmV0dXJuIHRoaXM7IH0sIGk7XHJcbiAgICBmdW5jdGlvbiBhd2FpdFJldHVybihmKSB7IHJldHVybiBmdW5jdGlvbiAodikgeyByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKHYpLnRoZW4oZiwgcmVqZWN0KTsgfTsgfVxyXG4gICAgZnVuY3Rpb24gdmVyYihuLCBmKSB7IGlmIChnW25dKSB7IGlbbl0gPSBmdW5jdGlvbiAodikgeyByZXR1cm4gbmV3IFByb21pc2UoZnVuY3Rpb24gKGEsIGIpIHsgcS5wdXNoKFtuLCB2LCBhLCBiXSkgPiAxIHx8IHJlc3VtZShuLCB2KTsgfSk7IH07IGlmIChmKSBpW25dID0gZihpW25dKTsgfSB9XHJcbiAgICBmdW5jdGlvbiByZXN1bWUobiwgdikgeyB0cnkgeyBzdGVwKGdbbl0odikpOyB9IGNhdGNoIChlKSB7IHNldHRsZShxWzBdWzNdLCBlKTsgfSB9XHJcbiAgICBmdW5jdGlvbiBzdGVwKHIpIHsgci52YWx1ZSBpbnN0YW5jZW9mIF9fYXdhaXQgPyBQcm9taXNlLnJlc29sdmUoci52YWx1ZS52KS50aGVuKGZ1bGZpbGwsIHJlamVjdCkgOiBzZXR0bGUocVswXVsyXSwgcik7IH1cclxuICAgIGZ1bmN0aW9uIGZ1bGZpbGwodmFsdWUpIHsgcmVzdW1lKFwibmV4dFwiLCB2YWx1ZSk7IH1cclxuICAgIGZ1bmN0aW9uIHJlamVjdCh2YWx1ZSkgeyByZXN1bWUoXCJ0aHJvd1wiLCB2YWx1ZSk7IH1cclxuICAgIGZ1bmN0aW9uIHNldHRsZShmLCB2KSB7IGlmIChmKHYpLCBxLnNoaWZ0KCksIHEubGVuZ3RoKSByZXN1bWUocVswXVswXSwgcVswXVsxXSk7IH1cclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIF9fYXN5bmNEZWxlZ2F0b3Iobykge1xyXG4gICAgdmFyIGksIHA7XHJcbiAgICByZXR1cm4gaSA9IHt9LCB2ZXJiKFwibmV4dFwiKSwgdmVyYihcInRocm93XCIsIGZ1bmN0aW9uIChlKSB7IHRocm93IGU7IH0pLCB2ZXJiKFwicmV0dXJuXCIpLCBpW1N5bWJvbC5pdGVyYXRvcl0gPSBmdW5jdGlvbiAoKSB7IHJldHVybiB0aGlzOyB9LCBpO1xyXG4gICAgZnVuY3Rpb24gdmVyYihuLCBmKSB7IGlbbl0gPSBvW25dID8gZnVuY3Rpb24gKHYpIHsgcmV0dXJuIChwID0gIXApID8geyB2YWx1ZTogX19hd2FpdChvW25dKHYpKSwgZG9uZTogZmFsc2UgfSA6IGYgPyBmKHYpIDogdjsgfSA6IGY7IH1cclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIF9fYXN5bmNWYWx1ZXMobykge1xyXG4gICAgaWYgKCFTeW1ib2wuYXN5bmNJdGVyYXRvcikgdGhyb3cgbmV3IFR5cGVFcnJvcihcIlN5bWJvbC5hc3luY0l0ZXJhdG9yIGlzIG5vdCBkZWZpbmVkLlwiKTtcclxuICAgIHZhciBtID0gb1tTeW1ib2wuYXN5bmNJdGVyYXRvcl0sIGk7XHJcbiAgICByZXR1cm4gbSA/IG0uY2FsbChvKSA6IChvID0gdHlwZW9mIF9fdmFsdWVzID09PSBcImZ1bmN0aW9uXCIgPyBfX3ZhbHVlcyhvKSA6IG9bU3ltYm9sLml0ZXJhdG9yXSgpLCBpID0ge30sIHZlcmIoXCJuZXh0XCIpLCB2ZXJiKFwidGhyb3dcIiksIHZlcmIoXCJyZXR1cm5cIiksIGlbU3ltYm9sLmFzeW5jSXRlcmF0b3JdID0gZnVuY3Rpb24gKCkgeyByZXR1cm4gdGhpczsgfSwgaSk7XHJcbiAgICBmdW5jdGlvbiB2ZXJiKG4pIHsgaVtuXSA9IG9bbl0gJiYgZnVuY3Rpb24gKHYpIHsgcmV0dXJuIG5ldyBQcm9taXNlKGZ1bmN0aW9uIChyZXNvbHZlLCByZWplY3QpIHsgdiA9IG9bbl0odiksIHNldHRsZShyZXNvbHZlLCByZWplY3QsIHYuZG9uZSwgdi52YWx1ZSk7IH0pOyB9OyB9XHJcbiAgICBmdW5jdGlvbiBzZXR0bGUocmVzb2x2ZSwgcmVqZWN0LCBkLCB2KSB7IFByb21pc2UucmVzb2x2ZSh2KS50aGVuKGZ1bmN0aW9uKHYpIHsgcmVzb2x2ZSh7IHZhbHVlOiB2LCBkb25lOiBkIH0pOyB9LCByZWplY3QpOyB9XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBfX21ha2VUZW1wbGF0ZU9iamVjdChjb29rZWQsIHJhdykge1xyXG4gICAgaWYgKE9iamVjdC5kZWZpbmVQcm9wZXJ0eSkgeyBPYmplY3QuZGVmaW5lUHJvcGVydHkoY29va2VkLCBcInJhd1wiLCB7IHZhbHVlOiByYXcgfSk7IH0gZWxzZSB7IGNvb2tlZC5yYXcgPSByYXc7IH1cclxuICAgIHJldHVybiBjb29rZWQ7XHJcbn07XHJcblxyXG52YXIgX19zZXRNb2R1bGVEZWZhdWx0ID0gT2JqZWN0LmNyZWF0ZSA/IChmdW5jdGlvbihvLCB2KSB7XHJcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkobywgXCJkZWZhdWx0XCIsIHsgZW51bWVyYWJsZTogdHJ1ZSwgdmFsdWU6IHYgfSk7XHJcbn0pIDogZnVuY3Rpb24obywgdikge1xyXG4gICAgb1tcImRlZmF1bHRcIl0gPSB2O1xyXG59O1xyXG5cclxudmFyIG93bktleXMgPSBmdW5jdGlvbihvKSB7XHJcbiAgICBvd25LZXlzID0gT2JqZWN0LmdldE93blByb3BlcnR5TmFtZXMgfHwgZnVuY3Rpb24gKG8pIHtcclxuICAgICAgICB2YXIgYXIgPSBbXTtcclxuICAgICAgICBmb3IgKHZhciBrIGluIG8pIGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwobywgaykpIGFyW2FyLmxlbmd0aF0gPSBrO1xyXG4gICAgICAgIHJldHVybiBhcjtcclxuICAgIH07XHJcbiAgICByZXR1cm4gb3duS2V5cyhvKTtcclxufTtcclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBfX2ltcG9ydFN0YXIobW9kKSB7XHJcbiAgICBpZiAobW9kICYmIG1vZC5fX2VzTW9kdWxlKSByZXR1cm4gbW9kO1xyXG4gICAgdmFyIHJlc3VsdCA9IHt9O1xyXG4gICAgaWYgKG1vZCAhPSBudWxsKSBmb3IgKHZhciBrID0gb3duS2V5cyhtb2QpLCBpID0gMDsgaSA8IGsubGVuZ3RoOyBpKyspIGlmIChrW2ldICE9PSBcImRlZmF1bHRcIikgX19jcmVhdGVCaW5kaW5nKHJlc3VsdCwgbW9kLCBrW2ldKTtcclxuICAgIF9fc2V0TW9kdWxlRGVmYXVsdChyZXN1bHQsIG1vZCk7XHJcbiAgICByZXR1cm4gcmVzdWx0O1xyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gX19pbXBvcnREZWZhdWx0KG1vZCkge1xyXG4gICAgcmV0dXJuIChtb2QgJiYgbW9kLl9fZXNNb2R1bGUpID8gbW9kIDogeyBkZWZhdWx0OiBtb2QgfTtcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIF9fY2xhc3NQcml2YXRlRmllbGRHZXQocmVjZWl2ZXIsIHN0YXRlLCBraW5kLCBmKSB7XHJcbiAgICBpZiAoa2luZCA9PT0gXCJhXCIgJiYgIWYpIHRocm93IG5ldyBUeXBlRXJyb3IoXCJQcml2YXRlIGFjY2Vzc29yIHdhcyBkZWZpbmVkIHdpdGhvdXQgYSBnZXR0ZXJcIik7XHJcbiAgICBpZiAodHlwZW9mIHN0YXRlID09PSBcImZ1bmN0aW9uXCIgPyByZWNlaXZlciAhPT0gc3RhdGUgfHwgIWYgOiAhc3RhdGUuaGFzKHJlY2VpdmVyKSkgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCByZWFkIHByaXZhdGUgbWVtYmVyIGZyb20gYW4gb2JqZWN0IHdob3NlIGNsYXNzIGRpZCBub3QgZGVjbGFyZSBpdFwiKTtcclxuICAgIHJldHVybiBraW5kID09PSBcIm1cIiA/IGYgOiBraW5kID09PSBcImFcIiA/IGYuY2FsbChyZWNlaXZlcikgOiBmID8gZi52YWx1ZSA6IHN0YXRlLmdldChyZWNlaXZlcik7XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBfX2NsYXNzUHJpdmF0ZUZpZWxkU2V0KHJlY2VpdmVyLCBzdGF0ZSwgdmFsdWUsIGtpbmQsIGYpIHtcclxuICAgIGlmIChraW5kID09PSBcIm1cIikgdGhyb3cgbmV3IFR5cGVFcnJvcihcIlByaXZhdGUgbWV0aG9kIGlzIG5vdCB3cml0YWJsZVwiKTtcclxuICAgIGlmIChraW5kID09PSBcImFcIiAmJiAhZikgdGhyb3cgbmV3IFR5cGVFcnJvcihcIlByaXZhdGUgYWNjZXNzb3Igd2FzIGRlZmluZWQgd2l0aG91dCBhIHNldHRlclwiKTtcclxuICAgIGlmICh0eXBlb2Ygc3RhdGUgPT09IFwiZnVuY3Rpb25cIiA/IHJlY2VpdmVyICE9PSBzdGF0ZSB8fCAhZiA6ICFzdGF0ZS5oYXMocmVjZWl2ZXIpKSB0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IHdyaXRlIHByaXZhdGUgbWVtYmVyIHRvIGFuIG9iamVjdCB3aG9zZSBjbGFzcyBkaWQgbm90IGRlY2xhcmUgaXRcIik7XHJcbiAgICByZXR1cm4gKGtpbmQgPT09IFwiYVwiID8gZi5jYWxsKHJlY2VpdmVyLCB2YWx1ZSkgOiBmID8gZi52YWx1ZSA9IHZhbHVlIDogc3RhdGUuc2V0KHJlY2VpdmVyLCB2YWx1ZSkpLCB2YWx1ZTtcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIF9fY2xhc3NQcml2YXRlRmllbGRJbihzdGF0ZSwgcmVjZWl2ZXIpIHtcclxuICAgIGlmIChyZWNlaXZlciA9PT0gbnVsbCB8fCAodHlwZW9mIHJlY2VpdmVyICE9PSBcIm9iamVjdFwiICYmIHR5cGVvZiByZWNlaXZlciAhPT0gXCJmdW5jdGlvblwiKSkgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCB1c2UgJ2luJyBvcGVyYXRvciBvbiBub24tb2JqZWN0XCIpO1xyXG4gICAgcmV0dXJuIHR5cGVvZiBzdGF0ZSA9PT0gXCJmdW5jdGlvblwiID8gcmVjZWl2ZXIgPT09IHN0YXRlIDogc3RhdGUuaGFzKHJlY2VpdmVyKTtcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIF9fYWRkRGlzcG9zYWJsZVJlc291cmNlKGVudiwgdmFsdWUsIGFzeW5jKSB7XHJcbiAgICBpZiAodmFsdWUgIT09IG51bGwgJiYgdmFsdWUgIT09IHZvaWQgMCkge1xyXG4gICAgICAgIGlmICh0eXBlb2YgdmFsdWUgIT09IFwib2JqZWN0XCIgJiYgdHlwZW9mIHZhbHVlICE9PSBcImZ1bmN0aW9uXCIpIHRocm93IG5ldyBUeXBlRXJyb3IoXCJPYmplY3QgZXhwZWN0ZWQuXCIpO1xyXG4gICAgICAgIHZhciBkaXNwb3NlLCBpbm5lcjtcclxuICAgICAgICBpZiAoYXN5bmMpIHtcclxuICAgICAgICAgICAgaWYgKCFTeW1ib2wuYXN5bmNEaXNwb3NlKSB0aHJvdyBuZXcgVHlwZUVycm9yKFwiU3ltYm9sLmFzeW5jRGlzcG9zZSBpcyBub3QgZGVmaW5lZC5cIik7XHJcbiAgICAgICAgICAgIGRpc3Bvc2UgPSB2YWx1ZVtTeW1ib2wuYXN5bmNEaXNwb3NlXTtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKGRpc3Bvc2UgPT09IHZvaWQgMCkge1xyXG4gICAgICAgICAgICBpZiAoIVN5bWJvbC5kaXNwb3NlKSB0aHJvdyBuZXcgVHlwZUVycm9yKFwiU3ltYm9sLmRpc3Bvc2UgaXMgbm90IGRlZmluZWQuXCIpO1xyXG4gICAgICAgICAgICBkaXNwb3NlID0gdmFsdWVbU3ltYm9sLmRpc3Bvc2VdO1xyXG4gICAgICAgICAgICBpZiAoYXN5bmMpIGlubmVyID0gZGlzcG9zZTtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKHR5cGVvZiBkaXNwb3NlICE9PSBcImZ1bmN0aW9uXCIpIHRocm93IG5ldyBUeXBlRXJyb3IoXCJPYmplY3Qgbm90IGRpc3Bvc2FibGUuXCIpO1xyXG4gICAgICAgIGlmIChpbm5lcikgZGlzcG9zZSA9IGZ1bmN0aW9uKCkgeyB0cnkgeyBpbm5lci5jYWxsKHRoaXMpOyB9IGNhdGNoIChlKSB7IHJldHVybiBQcm9taXNlLnJlamVjdChlKTsgfSB9O1xyXG4gICAgICAgIGVudi5zdGFjay5wdXNoKHsgdmFsdWU6IHZhbHVlLCBkaXNwb3NlOiBkaXNwb3NlLCBhc3luYzogYXN5bmMgfSk7XHJcbiAgICB9XHJcbiAgICBlbHNlIGlmIChhc3luYykge1xyXG4gICAgICAgIGVudi5zdGFjay5wdXNoKHsgYXN5bmM6IHRydWUgfSk7XHJcbiAgICB9XHJcbiAgICByZXR1cm4gdmFsdWU7XHJcblxyXG59XHJcblxyXG52YXIgX1N1cHByZXNzZWRFcnJvciA9IHR5cGVvZiBTdXBwcmVzc2VkRXJyb3IgPT09IFwiZnVuY3Rpb25cIiA/IFN1cHByZXNzZWRFcnJvciA6IGZ1bmN0aW9uIChlcnJvciwgc3VwcHJlc3NlZCwgbWVzc2FnZSkge1xyXG4gICAgdmFyIGUgPSBuZXcgRXJyb3IobWVzc2FnZSk7XHJcbiAgICByZXR1cm4gZS5uYW1lID0gXCJTdXBwcmVzc2VkRXJyb3JcIiwgZS5lcnJvciA9IGVycm9yLCBlLnN1cHByZXNzZWQgPSBzdXBwcmVzc2VkLCBlO1xyXG59O1xyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIF9fZGlzcG9zZVJlc291cmNlcyhlbnYpIHtcclxuICAgIGZ1bmN0aW9uIGZhaWwoZSkge1xyXG4gICAgICAgIGVudi5lcnJvciA9IGVudi5oYXNFcnJvciA/IG5ldyBfU3VwcHJlc3NlZEVycm9yKGUsIGVudi5lcnJvciwgXCJBbiBlcnJvciB3YXMgc3VwcHJlc3NlZCBkdXJpbmcgZGlzcG9zYWwuXCIpIDogZTtcclxuICAgICAgICBlbnYuaGFzRXJyb3IgPSB0cnVlO1xyXG4gICAgfVxyXG4gICAgdmFyIHIsIHMgPSAwO1xyXG4gICAgZnVuY3Rpb24gbmV4dCgpIHtcclxuICAgICAgICB3aGlsZSAociA9IGVudi5zdGFjay5wb3AoKSkge1xyXG4gICAgICAgICAgICB0cnkge1xyXG4gICAgICAgICAgICAgICAgaWYgKCFyLmFzeW5jICYmIHMgPT09IDEpIHJldHVybiBzID0gMCwgZW52LnN0YWNrLnB1c2gociksIFByb21pc2UucmVzb2x2ZSgpLnRoZW4obmV4dCk7XHJcbiAgICAgICAgICAgICAgICBpZiAoci5kaXNwb3NlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIHJlc3VsdCA9IHIuZGlzcG9zZS5jYWxsKHIudmFsdWUpO1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChyLmFzeW5jKSByZXR1cm4gcyB8PSAyLCBQcm9taXNlLnJlc29sdmUocmVzdWx0KS50aGVuKG5leHQsIGZ1bmN0aW9uKGUpIHsgZmFpbChlKTsgcmV0dXJuIG5leHQoKTsgfSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBlbHNlIHMgfD0gMTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBjYXRjaCAoZSkge1xyXG4gICAgICAgICAgICAgICAgZmFpbChlKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAocyA9PT0gMSkgcmV0dXJuIGVudi5oYXNFcnJvciA/IFByb21pc2UucmVqZWN0KGVudi5lcnJvcikgOiBQcm9taXNlLnJlc29sdmUoKTtcclxuICAgICAgICBpZiAoZW52Lmhhc0Vycm9yKSB0aHJvdyBlbnYuZXJyb3I7XHJcbiAgICB9XHJcbiAgICByZXR1cm4gbmV4dCgpO1xyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gX19yZXdyaXRlUmVsYXRpdmVJbXBvcnRFeHRlbnNpb24ocGF0aCwgcHJlc2VydmVKc3gpIHtcclxuICAgIGlmICh0eXBlb2YgcGF0aCA9PT0gXCJzdHJpbmdcIiAmJiAvXlxcLlxcLj9cXC8vLnRlc3QocGF0aCkpIHtcclxuICAgICAgICByZXR1cm4gcGF0aC5yZXBsYWNlKC9cXC4odHN4KSR8KCg/OlxcLmQpPykoKD86XFwuW14uL10rPyk/KVxcLihbY21dPyl0cyQvaSwgZnVuY3Rpb24gKG0sIHRzeCwgZCwgZXh0LCBjbSkge1xyXG4gICAgICAgICAgICByZXR1cm4gdHN4ID8gcHJlc2VydmVKc3ggPyBcIi5qc3hcIiA6IFwiLmpzXCIgOiBkICYmICghZXh0IHx8ICFjbSkgPyBtIDogKGQgKyBleHQgKyBcIi5cIiArIGNtLnRvTG93ZXJDYXNlKCkgKyBcImpzXCIpO1xyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG4gICAgcmV0dXJuIHBhdGg7XHJcbn1cclxuXHJcbmV4cG9ydCBkZWZhdWx0IHtcclxuICAgIF9fZXh0ZW5kczogX19leHRlbmRzLFxyXG4gICAgX19hc3NpZ246IF9fYXNzaWduLFxyXG4gICAgX19yZXN0OiBfX3Jlc3QsXHJcbiAgICBfX2RlY29yYXRlOiBfX2RlY29yYXRlLFxyXG4gICAgX19wYXJhbTogX19wYXJhbSxcclxuICAgIF9fZXNEZWNvcmF0ZTogX19lc0RlY29yYXRlLFxyXG4gICAgX19ydW5Jbml0aWFsaXplcnM6IF9fcnVuSW5pdGlhbGl6ZXJzLFxyXG4gICAgX19wcm9wS2V5OiBfX3Byb3BLZXksXHJcbiAgICBfX3NldEZ1bmN0aW9uTmFtZTogX19zZXRGdW5jdGlvbk5hbWUsXHJcbiAgICBfX21ldGFkYXRhOiBfX21ldGFkYXRhLFxyXG4gICAgX19hd2FpdGVyOiBfX2F3YWl0ZXIsXHJcbiAgICBfX2dlbmVyYXRvcjogX19nZW5lcmF0b3IsXHJcbiAgICBfX2NyZWF0ZUJpbmRpbmc6IF9fY3JlYXRlQmluZGluZyxcclxuICAgIF9fZXhwb3J0U3RhcjogX19leHBvcnRTdGFyLFxyXG4gICAgX192YWx1ZXM6IF9fdmFsdWVzLFxyXG4gICAgX19yZWFkOiBfX3JlYWQsXHJcbiAgICBfX3NwcmVhZDogX19zcHJlYWQsXHJcbiAgICBfX3NwcmVhZEFycmF5czogX19zcHJlYWRBcnJheXMsXHJcbiAgICBfX3NwcmVhZEFycmF5OiBfX3NwcmVhZEFycmF5LFxyXG4gICAgX19hd2FpdDogX19hd2FpdCxcclxuICAgIF9fYXN5bmNHZW5lcmF0b3I6IF9fYXN5bmNHZW5lcmF0b3IsXHJcbiAgICBfX2FzeW5jRGVsZWdhdG9yOiBfX2FzeW5jRGVsZWdhdG9yLFxyXG4gICAgX19hc3luY1ZhbHVlczogX19hc3luY1ZhbHVlcyxcclxuICAgIF9fbWFrZVRlbXBsYXRlT2JqZWN0OiBfX21ha2VUZW1wbGF0ZU9iamVjdCxcclxuICAgIF9faW1wb3J0U3RhcjogX19pbXBvcnRTdGFyLFxyXG4gICAgX19pbXBvcnREZWZhdWx0OiBfX2ltcG9ydERlZmF1bHQsXHJcbiAgICBfX2NsYXNzUHJpdmF0ZUZpZWxkR2V0OiBfX2NsYXNzUHJpdmF0ZUZpZWxkR2V0LFxyXG4gICAgX19jbGFzc1ByaXZhdGVGaWVsZFNldDogX19jbGFzc1ByaXZhdGVGaWVsZFNldCxcclxuICAgIF9fY2xhc3NQcml2YXRlRmllbGRJbjogX19jbGFzc1ByaXZhdGVGaWVsZEluLFxyXG4gICAgX19hZGREaXNwb3NhYmxlUmVzb3VyY2U6IF9fYWRkRGlzcG9zYWJsZVJlc291cmNlLFxyXG4gICAgX19kaXNwb3NlUmVzb3VyY2VzOiBfX2Rpc3Bvc2VSZXNvdXJjZXMsXHJcbiAgICBfX3Jld3JpdGVSZWxhdGl2ZUltcG9ydEV4dGVuc2lvbjogX19yZXdyaXRlUmVsYXRpdmVJbXBvcnRFeHRlbnNpb24sXHJcbn07XHJcbiIsImV4cG9ydCBkZWZhdWx0IHtcclxuICAgIC8qIFNlY3Rpb24gaGVhZGVycyAqL1xyXG5cclxuICAgIFBMVUdJTl9TRVRUSU5HU19IRUFERVI6IFwiUmVnZXggUXVpY2sgQWN0aW9ucyBzZXR0aW5nc1wiLFxyXG4gICAgTUFOQUdFX1NFQ1RJT05fSEVBREVSOiBcIk1hbmFnZSBxdWljayBhY3Rpb25zXCIsXHJcbiAgICBHRU5FUkFMX1NFQ1RJT05fSEVBREVSOiBcIkdlbmVyYWxcIixcclxuICAgIFBMVUdJTl9ERVNDOiBcIlRoaXMgcGx1Z2luIGFsbG93cyB5b3UgdG8gY3JlYXRlIGFuZCBxdWlja2x5IGFwcGx5IHJlZ2V4IGFjdGlvbnMgdmlhOiB0aGUgY29tbWFuZCBwYWxldHRlIChhbnkgYWN0aW9uKSwgdGhlIGZpbGUgZXhwbG9yZXIgY29udGV4dCBtZW51IChkZWZhdWx0IGFjdGlvbiksIHRoZSBmaWxlIGNvbnRleHQgbWVudSAoZGVmYXVsdCBhY3Rpb24pLiBFdmVyeSBzYXZlZCBhY3Rpb24gYmVjb21lcyBhIHBhbGV0dGUgY29tbWFuZCwgd2hpY2ggZW5zdXJlcyBhdXRvbWF0aXNhdGlvbiBwb3NzaWJpbGl0aWVzLlwiLFxyXG4gICAgXHJcbiAgICAvKiBHZW5lcmljIGJ1dHRvbnMgKi9cclxuICAgIFxyXG4gICAgQUREOiBcIkFkZFwiLFxyXG4gICAgU0FWRTogXCJTYXZlXCIsXHJcbiAgICBDQU5DRUw6IFwiQ2FuY2VsXCIsXHJcbiAgICBZRVM6IFwiWWVzXCIsXHJcbiAgICBFRElUOiBcIkVkaXRcIixcclxuICAgIERFTEVURTogXCJEZWxldGVcIixcclxuICAgIFxyXG4gICAgLyogRGlhbG9nIHRleHRzICovXHJcblxyXG4gICAgREVMRVRFX0hFQURFUjogXCJEZWxldGUgcXVpY2sgYWN0aW9uXCIsXHJcbiAgICBERUxFVEVfQ09ORklSTTogXCJBcmUgeW91IHN1cmUgeW91IHdhbnQgdG8gZGVsZXRlIHF1aWNrIGFjdGlvbiBcXFwie31cXFwiP1wiLFxyXG4gICAgRk9MREVSX0FDVElPTl9DT05GSVJNX1RJVExFOiBcIlJ1biBxdWljayBhY3Rpb24gb24gZm9sZGVyXCIsXHJcbiAgICBGT0xERVJfQUNUSU9OX0NPTkZJUk1fTVNHOiBcIkFyZSB5b3Ugc3VyZSB0aGF0IHlvdSB3YW50IHRvIHJ1biBkZWZhdWx0IHF1aWNrIGFjdGlvbiBvbiBldmVyeSBmaWxlIGluc2lkZSB0aGlzIGZvbGRlcj8gVGhpcyBhY3Rpb24gaXMgaXJyZXZlcnNpYmxlLlwiLFxyXG5cclxuICAgIC8qIERlc2NyaXB0aW9ucyAqL1xyXG5cclxuICAgIFBMQUNFSE9MREVSX05BTUU6IFwiVXNlZCB0byBjYWxsIHF1aWNrIGFjdGlvbnMgdmlhIGNvbW1hbmQgcGFsZXR0ZVwiLFxyXG4gICAgUExBQ0VIT0xERVJfU0VBUkNIOiBcIlNlYXJjaCBwYXR0ZXJuXCIsXHJcbiAgICBQTEFDRUhPTERFUl9GTEFHUzogXCJlLmcuIGdtXCIsXHJcbiAgICBQTEFDRUhPTERFUl9SRVBMQUNFTUVOVDogXCJSZXBsYWNlbWVudCB0ZXh0XCIsXHJcbiAgICBBRERfUVVJQ0tfQUNUSU9OOiBcIk5ldyBxdWljayBhY3Rpb25cIixcclxuICAgIEFDVElPTl9OQU1FOiBcIlF1aWNrIGFjdGlvbiBuYW1lXCIsXHJcbiAgICBTRUFSQ0hfUkVHRVg6IFwiUmVnZXggcnVsZVwiLFxyXG4gICAgRkxBR1M6IFwiRmxhZ3NcIixcclxuICAgIFJFUExBQ0VNRU5UOiBcIlJlcGxhY2VtZW50XCIsXHJcbiAgICBTRVRfQVNfREVGQVVMVDogXCJTZXQgYXMgZGVmYXVsdCBxdWljayBhY3Rpb25cIixcclxuICAgIFJVTl9ERUZBVUxUOiBcIlJ1biBkZWZhdWx0IHF1aWNrIGFjdGlvblwiLFxyXG4gICAgUlVOX0RFRkFVTFRfT05fRk9MREVSOiBcIlJ1biBkZWZhdWx0IHF1aWNrIGFjdGlvbiBvbiBmb2xkZXJcIixcclxuICAgIENPTkZJUk1fRk9MREVSX0FDVElPTjogXCJDb25maXJtYXRpb24gZm9yIHF1aWNrIGFjdGlvbiBvbiBmb2xkZXJcIixcclxuICAgIENPTkZJUk1fRk9MREVSX0FDVElPTl9ERVNDOiBcIlNob3cgYSBjb25maXJtYXRpb24gZGlhbG9nIGJlZm9yZSBydW5uaW5nIHF1aWNrIGFjdGlvbiBvbiBldmVyeSBmaWxlIGluc2lkZSBhIGNob3NlbiBmb2xkZXIuXCIsXHJcblxyXG4gICAgLyogRXJyb3JzIGFuZCBtZXNzYWdlcyAqL1xyXG5cclxuICAgIE5BTUVfRU1QVFlfRVJSOiBcIkVycm9yOiBRdWljayBhY3Rpb24gbmFtZSBjYW5ub3QgYmUgZW1wdHkhXCIsXHJcbiAgICBOQU1FX0VYSVNUU19FUlI6IFwiRXJyb3I6IEFuIGFjdGlvbiB3aXRoIHRoaXMgbmFtZSBhbHJlYWR5IGV4aXN0cyFcIixcclxuICAgIFBBVFRFUk5fRU1QVFlfRVJSOiBcIkVycm9yOiBSZWdleCBwYXR0ZXJuIGNhbm5vdCBiZSBlbXB0eSFcIixcclxuICAgIEZMQUdTX0lOVkFMSURfRVJSOiBcIkVycm9yOiBJbnZhbGlkIHJlZ2V4IGZsYWdzIHByb3ZpZGVkIVwiLFxyXG4gICAgUkVHRVhfSU5WQUxJRF9FUlI6IFwiRXJyb3I6IEludmFsaWQgcmVndWxhciBleHByZXNzaW9uIHN5bnRheCFcIixcclxuICAgIE5PVF9GT1VORF9FUlI6IFwiIG5vdCBmb3VuZCFcIixcclxuICAgIEVYRUNVVEVEX01TRzogXCJFeGVjdXRlZCAne30nIHdpdGgge30gcmVwbGFjZW1lbnRzLlwiXHJcbn07IiwiaW1wb3J0IHsgbW9tZW50IH0gZnJvbSAnb2JzaWRpYW4nO1xyXG5pbXBvcnQgZW4gZnJvbSAnLi9sb2NhbGVzL2VuJztcclxuXHJcbi8vIERlZmluZSBhIHR5cGUgYmFzZWQgb24gdGhlIHN0cnVjdHVyZSBvZiB5b3VyIGRlZmF1bHQgbGFuZ3VhZ2UgZmlsZVxyXG50eXBlIExvY2FsZU1lc3NhZ2VzID0gdHlwZW9mIGVuO1xyXG5cclxuY29uc3QgTUVTU0FHRVM6IFJlY29yZDxzdHJpbmcsIExvY2FsZU1lc3NhZ2VzPiA9IHtcclxuICAgIGVuOiBlbixcclxufTtcclxuXHJcbmNvbnN0IGxvY2FsZSA9IG1vbWVudC5sb2NhbGUoKTtcclxuXHJcbi8qKlxyXG4gKiBUcmFuc2xhdGVzIGEga2V5IGludG8gdGhlIGN1cnJlbnQgbG9jYWxlIHN0cmluZy5cclxuICogQHBhcmFtIGtleSAtIEEgdmFsaWQga2V5IGZyb20gdGhlIGxvY2FsZSBmaWxlc1xyXG4gKiBAcGFyYW0gYXJncyAtIFZhbHVlcyB0byByZXBsYWNlICd7fScgcGxhY2Vob2xkZXJzIGluIHRoZSBzdHJpbmdcclxuICovXHJcbmV4cG9ydCBjb25zdCB0ID0gKGtleToga2V5b2YgTG9jYWxlTWVzc2FnZXMsIC4uLmFyZ3M6IChzdHJpbmcgfCBudW1iZXIpW10pOiBzdHJpbmcgPT4ge1xyXG4gICAgY29uc3QgbGFuZyA9IE1FU1NBR0VTW2xvY2FsZV0gPyBsb2NhbGUgOiAnZW4nO1xyXG4gICAgbGV0IHRleHQ6IHN0cmluZyA9IE1FU1NBR0VTW2xhbmddW2tleV0gfHwgTUVTU0FHRVNbJ2VuJ11ba2V5XTtcclxuICAgIFxyXG4gICAgYXJncy5mb3JFYWNoKGFyZyA9PiB7XHJcbiAgICAgICAgdGV4dCA9IHRleHQucmVwbGFjZSgne30nLCBTdHJpbmcoYXJnKSk7XHJcbiAgICB9KTtcclxuICAgIFxyXG4gICAgcmV0dXJuIHRleHQ7XHJcbn07IiwiaW1wb3J0IHsgQXBwLCBCdXR0b25Db21wb25lbnQsIE1hcmtkb3duVmlldywgTW9kYWwsIE5vdGljZSwgUGx1Z2luLCBQbHVnaW5TZXR0aW5nVGFiLCBTZXR0aW5nLCBNZW51LCBURmlsZSwgVEZvbGRlciwgVEFic3RyYWN0RmlsZSwgVG9nZ2xlQ29tcG9uZW50IH0gZnJvbSAnb2JzaWRpYW4nO1xyXG5pbXBvcnQgeyB0IH0gZnJvbSAnLi9pMThuJztcclxuXHJcbi8qKlxyXG4gKiBJbnRlcmZhY2UgdG8gYWNjZXNzIGludGVybmFsIE9ic2lkaWFuIGNvbW1hbmQgcmVnaXN0cnlcclxuICovXHJcbmludGVyZmFjZSBDb21tYW5kQXBwIGV4dGVuZHMgQXBwIHtcclxuICAgIGNvbW1hbmRzOiB7XHJcbiAgICAgICAgcmVtb3ZlQ29tbWFuZChpZDogc3RyaW5nKTogdm9pZDtcclxuICAgIH07XHJcbn1cclxuXHJcbmludGVyZmFjZSBSZWdleFF1aWNrQWN0aW9uc1NldHRpbmdzIHtcclxuICAgIHJ1bGVzOiBzdHJpbmdbXTtcclxuICAgIGRlZmF1bHRSdWxlOiBzdHJpbmcgfCBudWxsO1xyXG4gICAgY29uZmlybUZvbGRlckFjdGlvbjogYm9vbGVhbjtcclxufVxyXG5cclxuY29uc3QgREVGQVVMVF9TRVRUSU5HUzogUmVnZXhRdWlja0FjdGlvbnNTZXR0aW5ncyA9IHtcclxuICAgIHJ1bGVzOiBbXSxcclxuICAgIGRlZmF1bHRSdWxlOiBudWxsLFxyXG4gICAgY29uZmlybUZvbGRlckFjdGlvbjogdHJ1ZVxyXG59XHJcblxyXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBSZWdleFF1aWNrQWN0aW9ucyBleHRlbmRzIFBsdWdpbiB7XHJcbiAgICBzZXR0aW5nczogUmVnZXhRdWlja0FjdGlvbnNTZXR0aW5ncztcclxuICAgIHBhdGhUb1J1bGVzZXRzOiBzdHJpbmc7XHJcblxyXG4gICAgYXN5bmMgb25sb2FkKCkge1xyXG4gICAgICAgIGF3YWl0IHRoaXMubG9hZFNldHRpbmdzKCk7XHJcbiAgICAgICAgdGhpcy5wYXRoVG9SdWxlc2V0cyA9IHRoaXMuYXBwLnZhdWx0LmNvbmZpZ0RpciArIFwiL3JlZ2V4LXJ1bGVzZXRzXCI7XHJcbiAgICAgICAgdGhpcy5hZGRTZXR0aW5nVGFiKG5ldyBSZWdleFF1aWNrQWN0aW9uc1NldHRpbmdzVGFiKHRoaXMuYXBwLCB0aGlzKSk7XHJcblxyXG4gICAgICAgIHRoaXMuc2V0dGluZ3MucnVsZXMuZm9yRWFjaChydWxlTmFtZSA9PiB7XHJcbiAgICAgICAgICAgIHRoaXMuYWRkUnVsZUNvbW1hbmQocnVsZU5hbWUpO1xyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICB0aGlzLnJlZ2lzdGVyRXZlbnQoXHJcbiAgICAgICAgICAgIHRoaXMuYXBwLndvcmtzcGFjZS5vbihcImZpbGUtbWVudVwiLCAobWVudTogTWVudSwgZmlsZTogVEFic3RyYWN0RmlsZSkgPT4ge1xyXG4gICAgICAgICAgICAgICAgaWYgKGZpbGUgaW5zdGFuY2VvZiBURmlsZSAmJiB0aGlzLnNldHRpbmdzLmRlZmF1bHRSdWxlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgbWVudS5hZGRJdGVtKChpdGVtKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGl0ZW1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC5zZXRUaXRsZSh0KCdSVU5fREVGQVVMVCcpKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLnNldEljb24oXCJwbGF5XCIpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAub25DbGljayhhc3luYyAoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYXdhaXQgdGhpcy5hcHBseVJ1bGVzZXRUb0ZpbGUoZmlsZSwgdGhpcy5zZXR0aW5ncy5kZWZhdWx0UnVsZSEpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgaWYgKGZpbGUgaW5zdGFuY2VvZiBURm9sZGVyICYmIHRoaXMuc2V0dGluZ3MuZGVmYXVsdFJ1bGUpIHtcclxuICAgICAgICAgICAgICAgICAgICBtZW51LmFkZEl0ZW0oKGl0ZW0pID0+IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaXRlbVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLnNldFRpdGxlKHQoJ1JVTl9ERUZBVUxUX09OX0ZPTERFUicpKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLnNldEljb24oXCJwbGF5XCIpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAub25DbGljaygoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgcnVuID0gYXN5bmMgKCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBhd2FpdCB0aGlzLmFwcGx5UnVsZXNldFRvRm9sZGVyKGZpbGUsIHRoaXMuc2V0dGluZ3MuZGVmYXVsdFJ1bGUhKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLnNldHRpbmdzLmNvbmZpcm1Gb2xkZXJBY3Rpb24pIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbmV3IENvbmZpcm1hdGlvbk1vZGFsKFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5hcHAsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0KCdGT0xERVJfQUNUSU9OX0NPTkZJUk1fVElUTEUnKSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHQoJ0ZPTERFUl9BQ1RJT05fQ09ORklSTV9NU0cnKSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHQoJ1lFUycpLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcnVuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICkub3BlbigpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJ1bigpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9KVxyXG4gICAgICAgICk7XHJcblxyXG4gICAgICAgIHRoaXMucmVnaXN0ZXJFdmVudChcclxuICAgICAgICAgICAgdGhpcy5hcHAud29ya3NwYWNlLm9uKFwiZWRpdG9yLW1lbnVcIiwgKG1lbnU6IE1lbnUpID0+IHtcclxuICAgICAgICAgICAgICAgIGlmICh0aGlzLnNldHRpbmdzLmRlZmF1bHRSdWxlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgbWVudS5hZGRJdGVtKChpdGVtKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGl0ZW1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC5zZXRUaXRsZSh0KCdSVU5fREVGQVVMVCcpKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLnNldEljb24oXCJwbGF5XCIpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAub25DbGljayhhc3luYyAoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYXdhaXQgdGhpcy5hcHBseVJ1bGVzZXQodGhpcy5wYXRoVG9SdWxlc2V0cyArIFwiL1wiICsgdGhpcy5zZXR0aW5ncy5kZWZhdWx0UnVsZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSlcclxuICAgICAgICApO1xyXG5cclxuICAgICAgICBhd2FpdCB0aGlzLnJlbG9hZFJ1bGVzZXRzKCk7XHJcbiAgICB9XHJcblxyXG4gICAgcHJpdmF0ZSBnZXRDb21tYW5kSWQobmFtZTogc3RyaW5nKTogc3RyaW5nIHtcclxuICAgICAgICByZXR1cm4gYGFwcGx5LXJ1bGUtJHtuYW1lLnRvTG93ZXJDYXNlKCkucmVwbGFjZSgvW15hLXowLTldL2csICctJyl9YDtcclxuICAgIH1cclxuXHJcbiAgICBhZGRSdWxlQ29tbWFuZChuYW1lOiBzdHJpbmcpIHtcclxuICAgICAgICB0aGlzLmFkZENvbW1hbmQoe1xyXG4gICAgICAgICAgICBpZDogdGhpcy5nZXRDb21tYW5kSWQobmFtZSksXHJcbiAgICAgICAgICAgIG5hbWU6IGAke25hbWV9YCxcclxuICAgICAgICAgICAgY2hlY2tDYWxsYmFjazogKGNoZWNraW5nOiBib29sZWFuKSA9PiB7XHJcbiAgICAgICAgICAgICAgICBjb25zdCBhY3RpdmVNYXJrZG93blZpZXcgPSB0aGlzLmFwcC53b3Jrc3BhY2UuZ2V0QWN0aXZlVmlld09mVHlwZShNYXJrZG93blZpZXcpO1xyXG4gICAgICAgICAgICAgICAgaWYgKGFjdGl2ZU1hcmtkb3duVmlldykge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmICghY2hlY2tpbmcpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5hcHBseVJ1bGVzZXQodGhpcy5wYXRoVG9SdWxlc2V0cyArIFwiL1wiICsgbmFtZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB0cnVlO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcblxyXG4gICAgYXN5bmMgbG9hZFNldHRpbmdzKCkge1xyXG4gICAgICAgIHRoaXMuc2V0dGluZ3MgPSBPYmplY3QuYXNzaWduKHt9LCBERUZBVUxUX1NFVFRJTkdTLCBhd2FpdCB0aGlzLmxvYWREYXRhKCkpO1xyXG4gICAgfVxyXG5cclxuICAgIGFzeW5jIHNhdmVTZXR0aW5ncygpIHtcclxuICAgICAgICBhd2FpdCB0aGlzLnNhdmVEYXRhKHRoaXMuc2V0dGluZ3MpO1xyXG4gICAgfVxyXG5cclxuICAgIGFzeW5jIHJlbG9hZFJ1bGVzZXRzKCkge1xyXG4gICAgICAgIGlmICghYXdhaXQgdGhpcy5hcHAudmF1bHQuYWRhcHRlci5leGlzdHModGhpcy5wYXRoVG9SdWxlc2V0cykpIHtcclxuICAgICAgICAgICAgYXdhaXQgdGhpcy5hcHAudmF1bHQuY3JlYXRlRm9sZGVyKHRoaXMucGF0aFRvUnVsZXNldHMpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBhc3luYyBjcmVhdGVSdWxlc2V0KG5hbWU6IHN0cmluZywgY29udGVudDogc3RyaW5nKTogUHJvbWlzZTxib29sZWFuPiB7XHJcbiAgICAgICAgdGhpcy5zZXR0aW5ncy5ydWxlcy51bnNoaWZ0KG5hbWUpO1xyXG4gICAgICAgIGNvbnN0IHBhdGggPSB0aGlzLnBhdGhUb1J1bGVzZXRzICsgXCIvXCIgKyBuYW1lO1xyXG4gICAgICAgIGF3YWl0IHRoaXMuYXBwLnZhdWx0LmFkYXB0ZXIud3JpdGUocGF0aCwgY29udGVudCk7XHJcbiAgICAgICAgYXdhaXQgdGhpcy5zYXZlU2V0dGluZ3MoKTtcclxuICAgICAgICB0aGlzLmFkZFJ1bGVDb21tYW5kKG5hbWUpO1xyXG4gICAgICAgIHJldHVybiB0cnVlO1xyXG4gICAgfVxyXG5cclxuICAgIGFzeW5jIHVwZGF0ZVJ1bGVzZXQob2xkTmFtZTogc3RyaW5nLCBuZXdOYW1lOiBzdHJpbmcsIGNvbnRlbnQ6IHN0cmluZyk6IFByb21pc2U8dm9pZD4ge1xyXG4gICAgICAgIGNvbnN0IG9sZFBhdGggPSB0aGlzLnBhdGhUb1J1bGVzZXRzICsgXCIvXCIgKyBvbGROYW1lO1xyXG4gICAgICAgIGNvbnN0IG5ld1BhdGggPSB0aGlzLnBhdGhUb1J1bGVzZXRzICsgXCIvXCIgKyBuZXdOYW1lO1xyXG4gICAgICAgIGF3YWl0IHRoaXMuYXBwLnZhdWx0LmFkYXB0ZXIud3JpdGUobmV3UGF0aCwgY29udGVudCk7XHJcbiAgICAgICAgaWYgKG9sZE5hbWUgIT09IG5ld05hbWUpIHtcclxuICAgICAgICAgICAgaWYgKGF3YWl0IHRoaXMuYXBwLnZhdWx0LmFkYXB0ZXIuZXhpc3RzKG9sZFBhdGgpKSB7XHJcbiAgICAgICAgICAgICAgICBhd2FpdCB0aGlzLmFwcC52YXVsdC5hZGFwdGVyLnJlbW92ZShvbGRQYXRoKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAodGhpcy5hcHAgYXMgQ29tbWFuZEFwcCkuY29tbWFuZHMucmVtb3ZlQ29tbWFuZChgJHt0aGlzLm1hbmlmZXN0LmlkfToke3RoaXMuZ2V0Q29tbWFuZElkKG9sZE5hbWUpfWApO1xyXG4gICAgICAgICAgICBjb25zdCBpbmRleCA9IHRoaXMuc2V0dGluZ3MucnVsZXMuaW5kZXhPZihvbGROYW1lKTtcclxuICAgICAgICAgICAgaWYgKGluZGV4ICE9PSAtMSkge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5zZXR0aW5ncy5ydWxlc1tpbmRleF0gPSBuZXdOYW1lO1xyXG4gICAgICAgICAgICAgICAgaWYgKHRoaXMuc2V0dGluZ3MuZGVmYXVsdFJ1bGUgPT09IG9sZE5hbWUpIHRoaXMuc2V0dGluZ3MuZGVmYXVsdFJ1bGUgPSBuZXdOYW1lO1xyXG4gICAgICAgICAgICAgICAgYXdhaXQgdGhpcy5zYXZlU2V0dGluZ3MoKTtcclxuICAgICAgICAgICAgICAgIHRoaXMuYWRkUnVsZUNvbW1hbmQobmV3TmFtZSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgYXN5bmMgZGVsZXRlUnVsZXNldChuYW1lOiBzdHJpbmcpOiBQcm9taXNlPHZvaWQ+IHtcclxuICAgICAgICBjb25zdCBwYXRoID0gdGhpcy5wYXRoVG9SdWxlc2V0cyArIFwiL1wiICsgbmFtZTtcclxuICAgICAgICBpZiAoYXdhaXQgdGhpcy5hcHAudmF1bHQuYWRhcHRlci5leGlzdHMocGF0aCkpIHtcclxuICAgICAgICAgICAgYXdhaXQgdGhpcy5hcHAudmF1bHQuYWRhcHRlci5yZW1vdmUocGF0aCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgICh0aGlzLmFwcCBhcyBDb21tYW5kQXBwKS5jb21tYW5kcy5yZW1vdmVDb21tYW5kKGAke3RoaXMubWFuaWZlc3QuaWR9OiR7dGhpcy5nZXRDb21tYW5kSWQobmFtZSl9YCk7XHJcbiAgICAgICAgdGhpcy5zZXR0aW5ncy5ydWxlcyA9IHRoaXMuc2V0dGluZ3MucnVsZXMuZmlsdGVyKHIgPT4gciAhPT0gbmFtZSk7XHJcbiAgICAgICAgaWYgKHRoaXMuc2V0dGluZ3MuZGVmYXVsdFJ1bGUgPT09IG5hbWUpIHRoaXMuc2V0dGluZ3MuZGVmYXVsdFJ1bGUgPSBudWxsO1xyXG4gICAgICAgIGF3YWl0IHRoaXMuc2F2ZVNldHRpbmdzKCk7XHJcbiAgICB9XHJcblxyXG4gICAgYXN5bmMgYXBwbHlSdWxlc2V0VG9GaWxlKGZpbGU6IFRGaWxlLCBydWxlc2V0TmFtZTogc3RyaW5nKSB7XHJcbiAgICAgICAgY29uc3QgcGF0aCA9IHRoaXMucGF0aFRvUnVsZXNldHMgKyBcIi9cIiArIHJ1bGVzZXROYW1lO1xyXG4gICAgICAgIGlmICghYXdhaXQgdGhpcy5hcHAudmF1bHQuYWRhcHRlci5leGlzdHMocGF0aCkpIHJldHVybjtcclxuICAgICAgICBjb25zdCBydWxlVGV4dCA9IGF3YWl0IHRoaXMuYXBwLnZhdWx0LmFkYXB0ZXIucmVhZChwYXRoKTtcclxuICAgICAgICBcclxuICAgICAgICBjb25zdCBjb3VudCA9IGF3YWl0IHRoaXMubW9kaWZ5RmlsZShmaWxlLCBydWxlVGV4dCwgcnVsZXNldE5hbWUpO1xyXG4gICAgICAgIG5ldyBOb3RpY2UodCgnRVhFQ1VURURfTVNHJywgcnVsZXNldE5hbWUsIGNvdW50KSk7XHJcbiAgICB9XHJcblxyXG4gICAgYXN5bmMgYXBwbHlSdWxlc2V0VG9Gb2xkZXIoZm9sZGVyOiBURm9sZGVyLCBydWxlc2V0TmFtZTogc3RyaW5nKSB7XHJcbiAgICAgICAgY29uc3QgcGF0aCA9IHRoaXMucGF0aFRvUnVsZXNldHMgKyBcIi9cIiArIHJ1bGVzZXROYW1lO1xyXG4gICAgICAgIGlmICghYXdhaXQgdGhpcy5hcHAudmF1bHQuYWRhcHRlci5leGlzdHMocGF0aCkpIHJldHVybjtcclxuICAgICAgICBjb25zdCBydWxlVGV4dCA9IGF3YWl0IHRoaXMuYXBwLnZhdWx0LmFkYXB0ZXIucmVhZChwYXRoKTtcclxuICAgICAgICBjb25zdCBmaWxlcyA9IHRoaXMuYXBwLnZhdWx0LmdldE1hcmtkb3duRmlsZXMoKS5maWx0ZXIoZiA9PiBmLnBhdGguc3RhcnRzV2l0aChmb2xkZXIucGF0aCArIFwiL1wiKSk7XHJcbiAgICAgICAgXHJcbiAgICAgICAgbGV0IHRvdGFsQ291bnQgPSAwO1xyXG4gICAgICAgIGZvciAoY29uc3QgZmlsZSBvZiBmaWxlcykge1xyXG4gICAgICAgICAgICB0b3RhbENvdW50ICs9IGF3YWl0IHRoaXMubW9kaWZ5RmlsZShmaWxlLCBydWxlVGV4dCwgcnVsZXNldE5hbWUpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBuZXcgTm90aWNlKHQoJ0VYRUNVVEVEX01TRycsIHJ1bGVzZXROYW1lLCB0b3RhbENvdW50KSk7XHJcbiAgICB9XHJcblxyXG4gICAgcHJpdmF0ZSBhc3luYyBtb2RpZnlGaWxlKGZpbGU6IFRGaWxlLCBydWxlVGV4dDogc3RyaW5nLCBydWxlc2V0TmFtZTogc3RyaW5nKTogUHJvbWlzZTxudW1iZXI+IHtcclxuICAgICAgICBjb25zdCBhY3RpdmVWaWV3ID0gdGhpcy5hcHAud29ya3NwYWNlLmdldEFjdGl2ZVZpZXdPZlR5cGUoTWFya2Rvd25WaWV3KTtcclxuICAgICAgICBcclxuICAgICAgICBpZiAoYWN0aXZlVmlldyAmJiBhY3RpdmVWaWV3LmZpbGU/LnBhdGggPT09IGZpbGUucGF0aCkge1xyXG4gICAgICAgICAgICBjb25zdCBlZGl0b3IgPSBhY3RpdmVWaWV3LmVkaXRvcjtcclxuICAgICAgICAgICAgY29uc3Qgc2Nyb2xsID0gZWRpdG9yLmdldFNjcm9sbEluZm8oKTtcclxuICAgICAgICAgICAgY29uc3QgY3Vyc29yID0gZWRpdG9yLmdldEN1cnNvcigpO1xyXG4gICAgICAgICAgICBcclxuICAgICAgICAgICAgY29uc3QgcmVzdWx0ID0gdGhpcy5wcm9jZXNzUmVnZXgoZWRpdG9yLmdldFZhbHVlKCksIHJ1bGVUZXh0LCBydWxlc2V0TmFtZSk7XHJcbiAgICAgICAgICAgIGVkaXRvci5zZXRWYWx1ZShyZXN1bHQuY29udGVudCk7XHJcbiAgICAgICAgICAgIFxyXG4gICAgICAgICAgICBlZGl0b3Iuc2V0Q3Vyc29yKGN1cnNvcik7XHJcbiAgICAgICAgICAgIGVkaXRvci5zY3JvbGxUbygwLCBzY3JvbGwudG9wKTtcclxuICAgICAgICAgICAgcmV0dXJuIHJlc3VsdC5jb3VudDtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICBjb25zdCBmaWxlQ29udGVudCA9IGF3YWl0IHRoaXMuYXBwLnZhdWx0LnJlYWQoZmlsZSk7XHJcbiAgICAgICAgICAgIGNvbnN0IHJlc3VsdCA9IHRoaXMucHJvY2Vzc1JlZ2V4KGZpbGVDb250ZW50LCBydWxlVGV4dCwgcnVsZXNldE5hbWUpO1xyXG4gICAgICAgICAgICBhd2FpdCB0aGlzLmFwcC52YXVsdC5tb2RpZnkoZmlsZSwgcmVzdWx0LmNvbnRlbnQpO1xyXG4gICAgICAgICAgICByZXR1cm4gcmVzdWx0LmNvdW50O1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBwcml2YXRlIHByb2Nlc3NSZWdleChzdWJqZWN0OiBzdHJpbmcsIHJ1bGVUZXh0OiBzdHJpbmcsIHJ1bGVzZXROYW1lOiBzdHJpbmcpOiB7IGNvbnRlbnQ6IHN0cmluZywgY291bnQ6IG51bWJlciB9IHtcclxuICAgICAgICBjb25zdCBydWxlUGFyc2VyID0gL15cIiguKz8pXCIoW2Etel0qPykoPzpcXHJcXG58XFxyfFxcbik/LT4oPzpcXHJcXG58XFxyfFxcbik/XCIoLio/KVwiKFthLXpdKj8pKD86XFxyXFxufFxccnxcXG4pPyQvZ211cztcclxuICAgICAgICBsZXQgY291bnQgPSAwO1xyXG4gICAgICAgIGxldCBydWxlTWF0Y2hlcztcclxuICAgICAgICBsZXQgb3V0cHV0ID0gc3ViamVjdDtcclxuICAgICAgICB3aGlsZSAoKHJ1bGVNYXRjaGVzID0gcnVsZVBhcnNlci5leGVjKHJ1bGVUZXh0KSkgIT09IG51bGwpIHtcclxuICAgICAgICAgICAgY29uc3QgWyAsIHBhdHRlcm4sIGZsYWdzLCByZXBsYWNlbWVudCwgbW9kZSBdID0gcnVsZU1hdGNoZXM7XHJcbiAgICAgICAgICAgIHRyeSB7XHJcbiAgICAgICAgICAgICAgICBjb25zdCBtYXRjaFJ1bGUgPSBuZXcgUmVnRXhwKHBhdHRlcm4sIGZsYWdzIHx8ICdnbScpO1xyXG4gICAgICAgICAgICAgICAgb3V0cHV0ID0gbW9kZSA9PT0gJ3gnID8gb3V0cHV0LnJlcGxhY2UobWF0Y2hSdWxlLCAnJykgOiBvdXRwdXQucmVwbGFjZShtYXRjaFJ1bGUsIHJlcGxhY2VtZW50KTtcclxuICAgICAgICAgICAgICAgIGNvdW50Kys7XHJcbiAgICAgICAgICAgIH0gY2F0Y2ggKGUpIHtcclxuICAgICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoYFJlZ2V4IFF1aWNrIEFjdGlvbnM6IEludmFsaWQgUmVnZXggaW4gJHtydWxlc2V0TmFtZX1gLCBlKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4geyBjb250ZW50OiBvdXRwdXQsIGNvdW50IH07XHJcbiAgICB9XHJcblxyXG4gICAgYXN5bmMgYXBwbHlSdWxlc2V0KHJ1bGVzZXRQYXRoOiBzdHJpbmcpIHtcclxuICAgICAgICBpZiAoIWF3YWl0IHRoaXMuYXBwLnZhdWx0LmFkYXB0ZXIuZXhpc3RzKHJ1bGVzZXRQYXRoKSkge1xyXG4gICAgICAgICAgICBuZXcgTm90aWNlKHJ1bGVzZXRQYXRoICsgdCgnTk9UX0ZPVU5EX0VSUicpKTtcclxuICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgIH1cclxuICAgICAgICBjb25zdCBydWxlVGV4dCA9IGF3YWl0IHRoaXMuYXBwLnZhdWx0LmFkYXB0ZXIucmVhZChydWxlc2V0UGF0aCk7XHJcbiAgICAgICAgY29uc3QgYWN0aXZlTWFya2Rvd25WaWV3ID0gdGhpcy5hcHAud29ya3NwYWNlLmdldEFjdGl2ZVZpZXdPZlR5cGUoTWFya2Rvd25WaWV3KTtcclxuICAgICAgICBpZiAoIWFjdGl2ZU1hcmtkb3duVmlldykgcmV0dXJuO1xyXG4gICAgICAgIGNvbnN0IGVkaXRvciA9IGFjdGl2ZU1hcmtkb3duVmlldy5lZGl0b3I7XHJcbiAgICAgICAgXHJcbiAgICAgICAgY29uc3Qgc3ViamVjdCA9IGVkaXRvci5zb21ldGhpbmdTZWxlY3RlZCgpID8gZWRpdG9yLmdldFNlbGVjdGlvbigpIDogZWRpdG9yLmdldFZhbHVlKCk7XHJcbiAgICAgICAgXHJcbiAgICAgICAgY29uc3QgcG9zID0gZWRpdG9yLmdldFNjcm9sbEluZm8oKTtcclxuICAgICAgICBjb25zdCByZXN1bHQgPSB0aGlzLnByb2Nlc3NSZWdleChzdWJqZWN0LCBydWxlVGV4dCwgcnVsZXNldFBhdGgpO1xyXG4gICAgICAgIGlmIChlZGl0b3Iuc29tZXRoaW5nU2VsZWN0ZWQoKSkgZWRpdG9yLnJlcGxhY2VTZWxlY3Rpb24ocmVzdWx0LmNvbnRlbnQpO1xyXG4gICAgICAgIGVsc2UgZWRpdG9yLnNldFZhbHVlKHJlc3VsdC5jb250ZW50KTtcclxuICAgICAgICBlZGl0b3Iuc2Nyb2xsVG8oMCwgcG9zLnRvcCk7XHJcbiAgICAgICAgbmV3IE5vdGljZSh0KCdFWEVDVVRFRF9NU0cnLCBydWxlc2V0UGF0aC5zcGxpdCgnLycpLnBvcCgpIHx8ICcnLCByZXN1bHQuY291bnQpKTtcclxuICAgIH1cclxufVxyXG5cclxuY2xhc3MgQ29uZmlybWF0aW9uTW9kYWwgZXh0ZW5kcyBNb2RhbCB7XHJcbiAgICBjb25zdHJ1Y3RvcihhcHA6IEFwcCwgcHJpdmF0ZSB0aXRsZTogc3RyaW5nLCBwcml2YXRlIG1lc3NhZ2U6IHN0cmluZywgcHJpdmF0ZSBjb25maXJtQnRuVGV4dDogc3RyaW5nLCBwcml2YXRlIG9uQ29uZmlybTogKCkgPT4gdm9pZCkge1xyXG4gICAgICAgIHN1cGVyKGFwcCk7XHJcbiAgICB9XHJcbiAgICBvbk9wZW4oKSB7XHJcbiAgICAgICAgY29uc3QgeyBjb250ZW50RWwgfSA9IHRoaXM7XHJcbiAgICAgICAgdGhpcy50aXRsZUVsLnNldFRleHQodGhpcy50aXRsZSk7XHJcbiAgICAgICAgY29udGVudEVsLmNyZWF0ZUVsKFwicFwiLCB7IHRleHQ6IHRoaXMubWVzc2FnZSB9KTtcclxuICAgICAgICBjb25zdCBidG5Db250YWluZXIgPSBjb250ZW50RWwuY3JlYXRlRWwoXCJkaXZcIiwgeyBjbHM6IFwib3JwLW1vZGFsLWJ1dHRvbnNcIiB9KTtcclxuICAgICAgICBuZXcgQnV0dG9uQ29tcG9uZW50KGJ0bkNvbnRhaW5lcikuc2V0QnV0dG9uVGV4dCh0KCdDQU5DRUwnKSkub25DbGljaygoKSA9PiB0aGlzLmNsb3NlKCkpO1xyXG4gICAgICAgIG5ldyBCdXR0b25Db21wb25lbnQoYnRuQ29udGFpbmVyKS5zZXRCdXR0b25UZXh0KHRoaXMuY29uZmlybUJ0blRleHQpLnNldFdhcm5pbmcoKS5vbkNsaWNrKCgpID0+IHtcclxuICAgICAgICAgICAgdGhpcy5vbkNvbmZpcm0oKTtcclxuICAgICAgICAgICAgdGhpcy5jbG9zZSgpO1xyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG4gICAgb25DbG9zZSgpIHsgdGhpcy5jb250ZW50RWwuZW1wdHkoKTsgfVxyXG59XHJcblxyXG5jbGFzcyBSZWdleFF1aWNrQWN0aW9uc1NldHRpbmdzVGFiIGV4dGVuZHMgUGx1Z2luU2V0dGluZ1RhYiB7XHJcbiAgICBwbHVnaW46IFJlZ2V4UXVpY2tBY3Rpb25zO1xyXG4gICAgc2hvd0NyZWF0aW9uRm9ybSA9IGZhbHNlO1xyXG4gICAgZWRpdGluZ1J1bGU6IHN0cmluZyB8IG51bGwgPSBudWxsO1xyXG4gICAgdGVtcE5hbWUgPSBcIlwiO1xyXG4gICAgdGVtcFBhdHRlcm4gPSBcIlwiO1xyXG4gICAgdGVtcEZsYWdzID0gXCJnbVwiO1xyXG4gICAgdGVtcFJlcGxhY2VtZW50ID0gXCJcIjtcclxuICAgIHRlbXBJc0RlZmF1bHQgPSBmYWxzZTtcclxuXHJcbiAgICBuYW1lSW5wdXRFbDogSFRNTElucHV0RWxlbWVudDtcclxuICAgIHBhdHRlcm5JbnB1dEVsOiBIVE1MSW5wdXRFbGVtZW50O1xyXG4gICAgZmxhZ3NJbnB1dEVsOiBIVE1MSW5wdXRFbGVtZW50O1xyXG5cclxuICAgIGNvbnN0cnVjdG9yKGFwcDogQXBwLCBwbHVnaW46IFJlZ2V4UXVpY2tBY3Rpb25zKSB7XHJcbiAgICAgICAgc3VwZXIoYXBwLCBwbHVnaW4pO1xyXG4gICAgICAgIHRoaXMucGx1Z2luID0gcGx1Z2luO1xyXG4gICAgfVxyXG5cclxuICAgIGRpc3BsYXkoKSB7XHJcbiAgICAgICAgY29uc3QgeyBjb250YWluZXJFbCB9ID0gdGhpcztcclxuICAgICAgICBjb250YWluZXJFbC5lbXB0eSgpO1xyXG5cclxuICAgICAgICBuZXcgU2V0dGluZyhjb250YWluZXJFbClcclxuICAgICAgICAgICAgLnNldEhlYWRpbmcoKVxyXG4gICAgICAgICAgICAuc2V0TmFtZSh0KCdQTFVHSU5fU0VUVElOR1NfSEVBREVSJykpO1xyXG5cclxuICAgICAgICBjb250YWluZXJFbC5jcmVhdGVFbChcInBcIiwgeyB0ZXh0OiB0KCdQTFVHSU5fREVTQycpLCBjbHM6IFwib3JwLXNldHRpbmdzLWRlc2NyaXB0aW9uXCIgfSk7XHJcblxyXG4gICAgICAgIG5ldyBTZXR0aW5nKGNvbnRhaW5lckVsKVxyXG4gICAgICAgICAgICAuc2V0SGVhZGluZygpXHJcbiAgICAgICAgICAgIC5zZXROYW1lKHQoJ0dFTkVSQUxfU0VDVElPTl9IRUFERVInKSk7XHJcblxyXG4gICAgICAgIG5ldyBTZXR0aW5nKGNvbnRhaW5lckVsKVxyXG4gICAgICAgICAgICAuc2V0TmFtZSh0KCdDT05GSVJNX0ZPTERFUl9BQ1RJT04nKSlcclxuICAgICAgICAgICAgLnNldERlc2ModCgnQ09ORklSTV9GT0xERVJfQUNUSU9OX0RFU0MnKSlcclxuICAgICAgICAgICAgLmFkZFRvZ2dsZSh0b2dnbGUgPT4gdG9nZ2xlXHJcbiAgICAgICAgICAgICAgICAuc2V0VmFsdWUodGhpcy5wbHVnaW4uc2V0dGluZ3MuY29uZmlybUZvbGRlckFjdGlvbilcclxuICAgICAgICAgICAgICAgIC5vbkNoYW5nZShhc3luYyAodmFsdWUpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLnBsdWdpbi5zZXR0aW5ncy5jb25maXJtRm9sZGVyQWN0aW9uID0gdmFsdWU7XHJcbiAgICAgICAgICAgICAgICAgICAgYXdhaXQgdGhpcy5wbHVnaW4uc2F2ZVNldHRpbmdzKCk7XHJcbiAgICAgICAgICAgICAgICB9KSk7XHJcblxyXG4gICAgICAgIG5ldyBTZXR0aW5nKGNvbnRhaW5lckVsKVxyXG4gICAgICAgICAgICAuc2V0SGVhZGluZygpXHJcbiAgICAgICAgICAgIC5zZXROYW1lKHQoJ01BTkFHRV9TRUNUSU9OX0hFQURFUicpKTtcclxuXHJcbiAgICAgICAgbmV3IFNldHRpbmcoY29udGFpbmVyRWwpXHJcbiAgICAgICAgICAgIC5zZXROYW1lKHQoJ0FERF9RVUlDS19BQ1RJT04nKSlcclxuICAgICAgICAgICAgLmFkZEJ1dHRvbihidG4gPT4gYnRuXHJcbiAgICAgICAgICAgICAgICAuc2V0QnV0dG9uVGV4dCh0KCdBREQnKSlcclxuICAgICAgICAgICAgICAgIC5zZXRDdGEoKVxyXG4gICAgICAgICAgICAgICAgLm9uQ2xpY2soKCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMucmVzZXRUZW1wRmllbGRzKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5zaG93Q3JlYXRpb25Gb3JtID0gIXRoaXMuc2hvd0NyZWF0aW9uRm9ybTtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLmRpc3BsYXkoKTtcclxuICAgICAgICAgICAgICAgIH0pKTtcclxuXHJcbiAgICAgICAgaWYgKHRoaXMuc2hvd0NyZWF0aW9uRm9ybSkge1xyXG4gICAgICAgICAgICBjb25zdCBmb3JtQ29udGFpbmVyID0gY29udGFpbmVyRWwuY3JlYXRlRWwoXCJkaXZcIiwgeyBjbHM6IFwib3JwLWNyZWF0aW9uLXJvd1wiIH0pO1xyXG4gICAgICAgICAgICB0aGlzLnJlbmRlckZvcm1GaWVsZHMoZm9ybUNvbnRhaW5lciwgKCkgPT4gdGhpcy5oYW5kbGVTYXZlKCkpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgY29uc3QgbGlzdFdyYXBwZXIgPSBjb250YWluZXJFbC5jcmVhdGVFbChcImRpdlwiLCB7IGNsczogXCJvcnAtc2F2ZWQtbGlzdFwiIH0pO1xyXG4gICAgICAgIHRoaXMucGx1Z2luLnNldHRpbmdzLnJ1bGVzLmZvckVhY2goYXN5bmMgbmFtZSA9PiB7XHJcbiAgICAgICAgICAgIGNvbnN0IGl0ZW1Sb3cgPSBsaXN0V3JhcHBlci5jcmVhdGVFbChcImRpdlwiLCB7IGNsczogXCJvcnAtc2F2ZWQtcnVsZS1pdGVtXCIgfSk7XHJcbiAgICAgICAgICAgIGlmICh0aGlzLmVkaXRpbmdSdWxlID09PSBuYW1lKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnJlbmRlckZvcm1GaWVsZHMoaXRlbVJvdywgKCkgPT4gdGhpcy5oYW5kbGVVcGRhdGUobmFtZSksIHRydWUpO1xyXG4gICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgbGV0IGNvbnRlbnQgPSBcIlwiO1xyXG4gICAgICAgICAgICAgICAgLy8gRklYRUQ6IGFkZGVkIGNvbW1lbnQgdG8gZW1wdHkgY2F0Y2ggYmxvY2sgdG8gc2F0aXNmeSBuby1lbXB0eSBsaW50ZXIgcnVsZVxyXG4gICAgICAgICAgICAgICAgdHJ5IHsgY29udGVudCA9IGF3YWl0IHRoaXMucGx1Z2luLmFwcC52YXVsdC5hZGFwdGVyLnJlYWQodGhpcy5wbHVnaW4ucGF0aFRvUnVsZXNldHMgKyBcIi9cIiArIG5hbWUpOyB9IGNhdGNoIHsgLyogaWdub3JlIGlmIGZpbGUgZG9lc24ndCBleGlzdCAqLyB9XHJcbiAgICAgICAgICAgICAgICBjb25zdCB7IHBhdHRlcm4sIGZsYWdzLCByZXBsYWNlbWVudCB9ID0gdGhpcy5wYXJzZVJ1bGVDb250ZW50KGNvbnRlbnQpO1xyXG4gICAgICAgICAgICAgICAgY29uc3QgbmFtZVdyYXAgPSBpdGVtUm93LmNyZWF0ZUVsKFwiZGl2XCIsIHsgY2xzOiBcIm9ycC1pbnB1dC13cmFwIG9ycC1uYW1lLWZpZWxkXCIgfSk7XHJcbiAgICAgICAgICAgICAgICBuYW1lV3JhcC5jcmVhdGVFbChcInNtYWxsXCIsIHsgdGV4dDogdCgnQUNUSU9OX05BTUUnKSwgY2xzOiBcIm9ycC1sYWJlbFwiIH0pO1xyXG4gICAgICAgICAgICAgICAgbmFtZVdyYXAuY3JlYXRlRWwoXCJkaXZcIiwgeyB0ZXh0OiBuYW1lLCBjbHM6IFwib3JwLXNhdmVkLXRleHQtZGlzcGxheVwiIH0pO1xyXG4gICAgICAgICAgICAgICAgY29uc3QgZmllbGRzUm93ID0gaXRlbVJvdy5jcmVhdGVFbChcImRpdlwiLCB7IGNsczogXCJvcnAtZmllbGRzLXJvd1wiIH0pO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5jcmVhdGVEaXNwbGF5RmllbGQoZmllbGRzUm93LCB0KCdTRUFSQ0hfUkVHRVgnKSwgcGF0dGVybiwgXCJvcnAtcGF0dGVybi1maWVsZFwiKTtcclxuICAgICAgICAgICAgICAgIHRoaXMuY3JlYXRlRGlzcGxheUZpZWxkKGZpZWxkc1JvdywgdCgnRkxBR1MnKSwgZmxhZ3MsIFwib3JwLWZsYWdzLWZpZWxkXCIpO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5jcmVhdGVEaXNwbGF5RmllbGQoZmllbGRzUm93LCB0KCdSRVBMQUNFTUVOVCcpLCByZXBsYWNlbWVudCwgXCJvcnAtcmVwbGFjZW1lbnQtZmllbGRcIik7XHJcbiAgICAgICAgICAgICAgICBjb25zdCBhY3Rpb25zV3JhcCA9IGl0ZW1Sb3cuY3JlYXRlRWwoXCJkaXZcIiwgeyBjbHM6IFwib3JwLWlucHV0LXdyYXAgb3JwLWNyZWF0aW9uLWFjdGlvbnNcIiB9KTtcclxuICAgICAgICAgICAgICAgIGNvbnN0IGRlZmF1bHRXcmFwID0gYWN0aW9uc1dyYXAuY3JlYXRlRWwoXCJkaXZcIiwgeyBjbHM6IFwib3JwLWRlZmF1bHQtdG9nZ2xlLXdyYXBcIiB9KTtcclxuICAgICAgICAgICAgICAgIG5ldyBUb2dnbGVDb21wb25lbnQoZGVmYXVsdFdyYXApXHJcbiAgICAgICAgICAgICAgICAgICAgLnNldFZhbHVlKHRoaXMucGx1Z2luLnNldHRpbmdzLmRlZmF1bHRSdWxlID09PSBuYW1lKVxyXG4gICAgICAgICAgICAgICAgICAgIC5vbkNoYW5nZShhc3luYyAodmFsdWUpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5wbHVnaW4uc2V0dGluZ3MuZGVmYXVsdFJ1bGUgPSB2YWx1ZSA/IG5hbWUgOiBudWxsO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBhd2FpdCB0aGlzLnBsdWdpbi5zYXZlU2V0dGluZ3MoKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5kaXNwbGF5KCk7XHJcbiAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICBkZWZhdWx0V3JhcC5jcmVhdGVTcGFuKHsgdGV4dDogdCgnU0VUX0FTX0RFRkFVTFQnKSwgY2xzOiBcIm9ycC10b2dnbGUtbGFiZWxcIiB9KTtcclxuICAgICAgICAgICAgICAgIGNvbnN0IGJ1dHRvbnMgPSBhY3Rpb25zV3JhcC5jcmVhdGVFbChcImRpdlwiLCB7IGNsczogXCJvcnAtYWN0aW9uLWJ1dHRvbnNcIiB9KTtcclxuICAgICAgICAgICAgICAgIG5ldyBCdXR0b25Db21wb25lbnQoYnV0dG9ucykuc2V0QnV0dG9uVGV4dCh0KCdFRElUJykpLm9uQ2xpY2soKCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMucGFyc2VDb250ZW50VG9GaWVsZHMobmFtZSwgY29udGVudCk7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5lZGl0aW5nUnVsZSA9IG5hbWU7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5zaG93Q3JlYXRpb25Gb3JtID0gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5kaXNwbGF5KCk7XHJcbiAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgIG5ldyBCdXR0b25Db21wb25lbnQoYnV0dG9ucykuc2V0QnV0dG9uVGV4dCh0KCdERUxFVEUnKSkuc2V0V2FybmluZygpLm9uQ2xpY2soKCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgIG5ldyBDb25maXJtYXRpb25Nb2RhbCh0aGlzLmFwcCwgdCgnREVMRVRFX0hFQURFUicpLCB0KCdERUxFVEVfQ09ORklSTScsIG5hbWUpLCB0KCdZRVMnKSwgYXN5bmMgKCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBhd2FpdCB0aGlzLnBsdWdpbi5kZWxldGVSdWxlc2V0KG5hbWUpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmRpc3BsYXkoKTtcclxuICAgICAgICAgICAgICAgICAgICB9KS5vcGVuKCk7XHJcbiAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG5cclxuICAgIHByaXZhdGUgY3JlYXRlRGlzcGxheUZpZWxkKHBhcmVudDogSFRNTEVsZW1lbnQsIGxhYmVsOiBzdHJpbmcsIHZhbDogc3RyaW5nLCBjbHM6IHN0cmluZykge1xyXG4gICAgICAgIGNvbnN0IHdyYXAgPSBwYXJlbnQuY3JlYXRlRWwoXCJkaXZcIiwgeyBjbHM6IGBvcnAtaW5wdXQtd3JhcCAke2Nsc31gIH0pO1xyXG4gICAgICAgIHdyYXAuY3JlYXRlRWwoXCJzbWFsbFwiLCB7IHRleHQ6IGxhYmVsLCBjbHM6IFwib3JwLWxhYmVsXCIgfSk7XHJcbiAgICAgICAgd3JhcC5jcmVhdGVFbChcImRpdlwiLCB7IHRleHQ6IHZhbCwgY2xzOiBcIm9ycC1zYXZlZC10ZXh0LWRpc3BsYXlcIiB9KTtcclxuICAgIH1cclxuXHJcbiAgICBwcml2YXRlIHJlbmRlckZvcm1GaWVsZHMoY29udGFpbmVyOiBIVE1MRWxlbWVudCwgb25Db25maXJtOiAoKSA9PiB2b2lkLCBpc1VwZGF0ZSA9IGZhbHNlKSB7XHJcbiAgICAgICAgY29uc3QgbmFtZVdyYXAgPSBjb250YWluZXIuY3JlYXRlRWwoXCJkaXZcIiwgeyBjbHM6IFwib3JwLWlucHV0LXdyYXAgb3JwLW5hbWUtZmllbGRcIiB9KTtcclxuICAgICAgICBuYW1lV3JhcC5jcmVhdGVFbChcInNtYWxsXCIsIHsgdGV4dDogdCgnQUNUSU9OX05BTUUnKSwgY2xzOiBcIm9ycC1sYWJlbFwiIH0pO1xyXG4gICAgICAgIHRoaXMubmFtZUlucHV0RWwgPSBuYW1lV3JhcC5jcmVhdGVFbChcImlucHV0XCIsIHsgdHlwZTogXCJ0ZXh0XCIsIHZhbHVlOiB0aGlzLnRlbXBOYW1lLCBwbGFjZWhvbGRlcjogdCgnUExBQ0VIT0xERVJfTkFNRScpLCBjbHM6IFwib3JwLWlucHV0XCIgfSk7XHJcbiAgICAgICAgdGhpcy5uYW1lSW5wdXRFbC5hZGRFdmVudExpc3RlbmVyKFwiaW5wdXRcIiwgKGUpID0+IHRoaXMudGVtcE5hbWUgPSAoZS50YXJnZXQgYXMgSFRNTElucHV0RWxlbWVudCkudmFsdWUpO1xyXG5cclxuICAgICAgICBjb25zdCBmaWVsZHNSb3cgPSBjb250YWluZXIuY3JlYXRlRWwoXCJkaXZcIiwgeyBjbHM6IFwib3JwLWZpZWxkcy1yb3dcIiB9KTtcclxuICAgICAgICB0aGlzLnBhdHRlcm5JbnB1dEVsID0gdGhpcy5jcmVhdGVJbnB1dEZpZWxkKGZpZWxkc1JvdywgdCgnU0VBUkNIX1JFR0VYJyksIHRoaXMudGVtcFBhdHRlcm4sIHQoJ1BMQUNFSE9MREVSX1NFQVJDSCcpLCBcIm9ycC1wYXR0ZXJuLWZpZWxkXCIsICh2KSA9PiB0aGlzLnRlbXBQYXR0ZXJuID0gdik7XHJcbiAgICAgICAgdGhpcy5mbGFnc0lucHV0RWwgPSB0aGlzLmNyZWF0ZUlucHV0RmllbGQoZmllbGRzUm93LCB0KCdGTEFHUycpLCB0aGlzLnRlbXBGbGFncywgdCgnUExBQ0VIT0xERVJfRkxBR1MnKSwgXCJvcnAtZmxhZ3MtZmllbGRcIiwgKHYpID0+IHRoaXMudGVtcEZsYWdzID0gdik7XHJcbiAgICAgICAgdGhpcy5jcmVhdGVJbnB1dEZpZWxkKGZpZWxkc1JvdywgdCgnUkVQTEFDRU1FTlQnKSwgdGhpcy50ZW1wUmVwbGFjZW1lbnQsIHQoJ1BMQUNFSE9MREVSX1JFUExBQ0VNRU5UJyksIFwib3JwLXJlcGxhY2VtZW50LWZpZWxkXCIsICh2KSA9PiB0aGlzLnRlbXBSZXBsYWNlbWVudCA9IHYpO1xyXG5cclxuICAgICAgICBjb25zdCBhY3Rpb25zV3JhcCA9IGNvbnRhaW5lci5jcmVhdGVFbChcImRpdlwiLCB7IGNsczogXCJvcnAtaW5wdXQtd3JhcCBvcnAtY3JlYXRpb24tYWN0aW9uc1wiIH0pO1xyXG4gICAgICAgIGNvbnN0IGRlZmF1bHRXcmFwID0gYWN0aW9uc1dyYXAuY3JlYXRlRWwoXCJkaXZcIiwgeyBjbHM6IFwib3JwLWRlZmF1bHQtdG9nZ2xlLXdyYXBcIiB9KTtcclxuICAgICAgICBjb25zdCBpbml0aWFsVG9nZ2xlVmFsdWUgPSBpc1VwZGF0ZSA/ICh0aGlzLnBsdWdpbi5zZXR0aW5ncy5kZWZhdWx0UnVsZSA9PT0gdGhpcy5lZGl0aW5nUnVsZSkgOiB0aGlzLnRlbXBJc0RlZmF1bHQ7XHJcbiAgICAgICAgbmV3IFRvZ2dsZUNvbXBvbmVudChkZWZhdWx0V3JhcClcclxuICAgICAgICAgICAgLnNldFZhbHVlKGluaXRpYWxUb2dnbGVWYWx1ZSlcclxuICAgICAgICAgICAgLm9uQ2hhbmdlKGFzeW5jICh2YWx1ZSkgPT4ge1xyXG4gICAgICAgICAgICAgICAgaWYgKGlzVXBkYXRlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5wbHVnaW4uc2V0dGluZ3MuZGVmYXVsdFJ1bGUgPSB2YWx1ZSA/IHRoaXMudGVtcE5hbWUgOiBudWxsO1xyXG4gICAgICAgICAgICAgICAgICAgIGF3YWl0IHRoaXMucGx1Z2luLnNhdmVTZXR0aW5ncygpO1xyXG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLnRlbXBJc0RlZmF1bHQgPSB2YWx1ZTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgZGVmYXVsdFdyYXAuY3JlYXRlU3Bhbih7IHRleHQ6IHQoJ1NFVF9BU19ERUZBVUxUJyksIGNsczogXCJvcnAtdG9nZ2xlLWxhYmVsXCIgfSk7XHJcbiAgICAgICAgY29uc3QgYnV0dG9ucyA9IGFjdGlvbnNXcmFwLmNyZWF0ZUVsKFwiZGl2XCIsIHsgY2xzOiBcIm9ycC1hY3Rpb24tYnV0dG9uc1wiIH0pO1xyXG4gICAgICAgIG5ldyBCdXR0b25Db21wb25lbnQoYnV0dG9ucykuc2V0QnV0dG9uVGV4dChpc1VwZGF0ZSA/IHQoJ1NBVkUnKSA6IHQoJ1NBVkUnKSkuc2V0Q3RhKCkub25DbGljayhvbkNvbmZpcm0pO1xyXG4gICAgICAgIG5ldyBCdXR0b25Db21wb25lbnQoYnV0dG9ucykuc2V0QnV0dG9uVGV4dCh0KCdDQU5DRUwnKSkub25DbGljaygoKSA9PiB7XHJcbiAgICAgICAgICAgIHRoaXMuZWRpdGluZ1J1bGUgPSBudWxsO1xyXG4gICAgICAgICAgICB0aGlzLnNob3dDcmVhdGlvbkZvcm0gPSBmYWxzZTtcclxuICAgICAgICAgICAgdGhpcy5kaXNwbGF5KCk7XHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcblxyXG4gICAgcHJpdmF0ZSBjcmVhdGVJbnB1dEZpZWxkKHBhcmVudDogSFRNTEVsZW1lbnQsIGxhYmVsOiBzdHJpbmcsIHZhbDogc3RyaW5nLCBwaDogc3RyaW5nLCBjbHM6IHN0cmluZywgb25DaGFuZ2U6ICh2OiBzdHJpbmcpID0+IHZvaWQpOiBIVE1MSW5wdXRFbGVtZW50IHtcclxuICAgICAgICBjb25zdCB3cmFwID0gcGFyZW50LmNyZWF0ZUVsKFwiZGl2XCIsIHsgY2xzOiBgb3JwLWlucHV0LXdyYXAgJHtjbHN9YCB9KTtcclxuICAgICAgICB3cmFwLmNyZWF0ZUVsKFwic21hbGxcIiwgeyB0ZXh0OiBsYWJlbCwgY2xzOiBcIm9ycC1sYWJlbFwiIH0pO1xyXG4gICAgICAgIGNvbnN0IGlucHV0ID0gd3JhcC5jcmVhdGVFbChcImlucHV0XCIsIHsgdHlwZTogXCJ0ZXh0XCIsIHZhbHVlOiB2YWwsIHBsYWNlaG9sZGVyOiBwaCwgY2xzOiBcIm9ycC1pbnB1dFwiIH0pO1xyXG4gICAgICAgIGlucHV0LmFkZEV2ZW50TGlzdGVuZXIoXCJpbnB1dFwiLCAoZSkgPT4gb25DaGFuZ2UoKGUudGFyZ2V0IGFzIEhUTUxJbnB1dEVsZW1lbnQpLnZhbHVlKSk7XHJcbiAgICAgICAgcmV0dXJuIGlucHV0O1xyXG4gICAgfVxyXG5cclxuICAgIHByaXZhdGUgdHJpZ2dlckZpZWxkRXJyb3IoZWw6IEhUTUxFbGVtZW50KSB7XHJcbiAgICAgICAgaWYgKCFlbCkgcmV0dXJuO1xyXG4gICAgICAgIGVsLmNsYXNzTGlzdC5yZW1vdmUoJ2ZpZWxkLWVycm9yJyk7XHJcbiAgICAgICAgdm9pZCBlbC5vZmZzZXRXaWR0aDtcclxuICAgICAgICBlbC5jbGFzc0xpc3QuYWRkKCdmaWVsZC1lcnJvcicpO1xyXG4gICAgfVxyXG5cclxuICAgIHByaXZhdGUgdmFsaWRhdGVJbnB1dHMoaXNVcGRhdGUgPSBmYWxzZSk6IGJvb2xlYW4ge1xyXG4gICAgICAgIGNvbnN0IHRyaW1tZWROYW1lID0gdGhpcy50ZW1wTmFtZS50cmltKCk7XHJcbiAgICAgICAgaWYgKCF0cmltbWVkTmFtZSkge1xyXG4gICAgICAgICAgICBuZXcgTm90aWNlKHQoJ05BTUVfRU1QVFlfRVJSJykpO1xyXG4gICAgICAgICAgICB0aGlzLnRyaWdnZXJGaWVsZEVycm9yKHRoaXMubmFtZUlucHV0RWwpO1xyXG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBjb25zdCBuYW1lRXhpc3RzID0gdGhpcy5wbHVnaW4uc2V0dGluZ3MucnVsZXMuc29tZShuYW1lID0+IFxyXG4gICAgICAgICAgICBuYW1lLnRvTG93ZXJDYXNlKCkgPT09IHRyaW1tZWROYW1lLnRvTG93ZXJDYXNlKCkgJiYgKCFpc1VwZGF0ZSB8fCBuYW1lICE9PSB0aGlzLmVkaXRpbmdSdWxlKVxyXG4gICAgICAgICk7XHJcbiAgICAgICAgaWYgKG5hbWVFeGlzdHMpIHtcclxuICAgICAgICAgICAgbmV3IE5vdGljZSh0KCdOQU1FX0VYSVNUU19FUlInKSk7XHJcbiAgICAgICAgICAgIHRoaXMudHJpZ2dlckZpZWxkRXJyb3IodGhpcy5uYW1lSW5wdXRFbCk7XHJcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGlmICghdGhpcy50ZW1wUGF0dGVybi50cmltKCkpIHtcclxuICAgICAgICAgICAgbmV3IE5vdGljZSh0KCdQQVRURVJOX0VNUFRZX0VSUicpKTtcclxuICAgICAgICAgICAgdGhpcy50cmlnZ2VyRmllbGRFcnJvcih0aGlzLnBhdHRlcm5JbnB1dEVsKTtcclxuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgdHJ5IHtcclxuICAgICAgICAgICAgbmV3IFJlZ0V4cCh0aGlzLnRlbXBQYXR0ZXJuLCB0aGlzLnRlbXBGbGFncyB8fCAnZ20nKTtcclxuICAgICAgICB9IGNhdGNoIChlKSB7XHJcbiAgICAgICAgICAgIGNvbnN0IGVycm9yTXNnID0gZSBpbnN0YW5jZW9mIEVycm9yID8gZS5tZXNzYWdlLnRvTG93ZXJDYXNlKCkgOiBTdHJpbmcoZSkudG9Mb3dlckNhc2UoKTtcclxuICAgICAgICAgICAgY29uc3QgaXNGbGFnRXJyb3IgPSBlcnJvck1zZy5pbmNsdWRlcyhcImZsYWdcIikgfHwgL1teZ2ltc3V5XS8udGVzdCh0aGlzLnRlbXBGbGFncyk7XHJcbiAgICAgICAgICAgIFxyXG4gICAgICAgICAgICBpZiAoaXNGbGFnRXJyb3IpIHtcclxuICAgICAgICAgICAgICAgIG5ldyBOb3RpY2UodCgnRkxBR1NfSU5WQUxJRF9FUlInKSk7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnRyaWdnZXJGaWVsZEVycm9yKHRoaXMuZmxhZ3NJbnB1dEVsKTtcclxuICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgIG5ldyBOb3RpY2UodCgnUkVHRVhfSU5WQUxJRF9FUlInKSk7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnRyaWdnZXJGaWVsZEVycm9yKHRoaXMucGF0dGVybklucHV0RWwpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIHRydWU7XHJcbiAgICB9XHJcblxyXG4gICAgcHJpdmF0ZSBhc3luYyBoYW5kbGVTYXZlKCkge1xyXG4gICAgICAgIGlmICghdGhpcy52YWxpZGF0ZUlucHV0cyhmYWxzZSkpIHJldHVybjtcclxuICAgICAgICBjb25zdCBjb250ZW50ID0gYFwiJHt0aGlzLnRlbXBQYXR0ZXJufVwiJHt0aGlzLnRlbXBGbGFnc31cXG4tPlxcblwiJHt0aGlzLnRlbXBSZXBsYWNlbWVudH1cImA7XHJcbiAgICAgICAgYXdhaXQgdGhpcy5wbHVnaW4uY3JlYXRlUnVsZXNldCh0aGlzLnRlbXBOYW1lLCBjb250ZW50KTtcclxuICAgICAgICBpZiAodGhpcy50ZW1wSXNEZWZhdWx0KSB7XHJcbiAgICAgICAgICAgIHRoaXMucGx1Z2luLnNldHRpbmdzLmRlZmF1bHRSdWxlID0gdGhpcy50ZW1wTmFtZTtcclxuICAgICAgICAgICAgYXdhaXQgdGhpcy5wbHVnaW4uc2F2ZVNldHRpbmdzKCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHRoaXMuc2hvd0NyZWF0aW9uRm9ybSA9IGZhbHNlO1xyXG4gICAgICAgIHRoaXMuZGlzcGxheSgpO1xyXG4gICAgfVxyXG5cclxuICAgIHByaXZhdGUgYXN5bmMgaGFuZGxlVXBkYXRlKG9sZE5hbWU6IHN0cmluZykge1xyXG4gICAgICAgIGlmICghdGhpcy52YWxpZGF0ZUlucHV0cyh0cnVlKSkgcmV0dXJuO1xyXG4gICAgICAgIGNvbnN0IGNvbnRlbnQgPSBgXCIke3RoaXMudGVtcFBhdHRlcm59XCIke3RoaXMudGVtcEZsYWdzfVxcbi0+XFxuXCIke3RoaXMudGVtcFJlcGxhY2VtZW50fVwiYDtcclxuICAgICAgICBhd2FpdCB0aGlzLnBsdWdpbi51cGRhdGVSdWxlc2V0KG9sZE5hbWUsIHRoaXMudGVtcE5hbWUsIGNvbnRlbnQpO1xyXG4gICAgICAgIHRoaXMuZWRpdGluZ1J1bGUgPSBudWxsO1xyXG4gICAgICAgIHRoaXMuZGlzcGxheSgpO1xyXG4gICAgfVxyXG5cclxuICAgIHByaXZhdGUgcGFyc2VSdWxlQ29udGVudChjb250ZW50OiBzdHJpbmcpIHtcclxuICAgICAgICBjb25zdCBwYXJzZXIgPSAvXlwiKC4rPylcIihbYS16XSo/KSg/OlxcclxcbnxcXHJ8XFxuKT8tPig/OlxcclxcbnxcXHJ8XFxuKT9cIiguKj8pXCIoW2Etel0qPykkL211cztcclxuICAgICAgICBjb25zdCBtYXRjaCA9IHBhcnNlci5leGVjKGNvbnRlbnQpO1xyXG4gICAgICAgIHJldHVybiB7XHJcbiAgICAgICAgICAgIHBhdHRlcm46IG1hdGNoID8gbWF0Y2hbMV0gOiBcIlwiLFxyXG4gICAgICAgICAgICBmbGFnczogbWF0Y2ggPyBtYXRjaFsyXSA6IFwiZ21cIixcclxuICAgICAgICAgICAgcmVwbGFjZW1lbnQ6IG1hdGNoID8gbWF0Y2hbM10gOiBcIlwiXHJcbiAgICAgICAgfTtcclxuICAgIH1cclxuXHJcbiAgICBwcml2YXRlIHBhcnNlQ29udGVudFRvRmllbGRzKG5hbWU6IHN0cmluZywgY29udGVudDogc3RyaW5nKSB7XHJcbiAgICAgICAgY29uc3QgZGF0YSA9IHRoaXMucGFyc2VSdWxlQ29udGVudChjb250ZW50KTtcclxuICAgICAgICB0aGlzLnRlbXBOYW1lID0gbmFtZTtcclxuICAgICAgICB0aGlzLnRlbXBQYXR0ZXJuID0gZGF0YS5wYXR0ZXJuO1xyXG4gICAgICAgIHRoaXMudGVtcEZsYWdzID0gZGF0YS5mbGFncztcclxuICAgICAgICB0aGlzLnRlbXBSZXBsYWNlbWVudCA9IGRhdGEucmVwbGFjZW1lbnQ7XHJcbiAgICB9XHJcblxyXG4gICAgcHJpdmF0ZSByZXNldFRlbXBGaWVsZHMoKSB7XHJcbiAgICAgICAgdGhpcy50ZW1wTmFtZSA9IFwiXCI7XHJcbiAgICAgICAgdGhpcy50ZW1wUGF0dGVybiA9IFwiXCI7XHJcbiAgICAgICAgdGhpcy50ZW1wRmxhZ3MgPSBcImdtXCI7XHJcbiAgICAgICAgdGhpcy50ZW1wUmVwbGFjZW1lbnQgPSBcIlwiO1xyXG4gICAgICAgIHRoaXMudGVtcElzRGVmYXVsdCA9IGZhbHNlO1xyXG4gICAgICAgIHRoaXMuZWRpdGluZ1J1bGUgPSBudWxsO1xyXG4gICAgfVxyXG59Il0sIm5hbWVzIjpbIm1vbWVudCIsIlBsdWdpbiIsIlRGaWxlIiwiVEZvbGRlciIsIk1hcmtkb3duVmlldyIsIk5vdGljZSIsIk1vZGFsIiwiQnV0dG9uQ29tcG9uZW50IiwiUGx1Z2luU2V0dGluZ1RhYiIsIlNldHRpbmciLCJUb2dnbGVDb21wb25lbnQiXSwibWFwcGluZ3MiOiI7Ozs7Ozs7OztBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFvR0E7QUFDTyxTQUFTLFNBQVMsQ0FBQyxPQUFPLEVBQUUsVUFBVSxFQUFFLENBQUMsRUFBRSxTQUFTLEVBQUU7QUFDN0QsSUFBSSxTQUFTLEtBQUssQ0FBQyxLQUFLLEVBQUUsRUFBRSxPQUFPLEtBQUssWUFBWSxDQUFDLEdBQUcsS0FBSyxHQUFHLElBQUksQ0FBQyxDQUFDLFVBQVUsT0FBTyxFQUFFLEVBQUUsT0FBTyxDQUFDLEtBQUssQ0FBQyxDQUFDLEVBQUUsQ0FBQyxDQUFDLEVBQUU7QUFDaEgsSUFBSSxPQUFPLEtBQUssQ0FBQyxLQUFLLENBQUMsR0FBRyxPQUFPLENBQUMsRUFBRSxVQUFVLE9BQU8sRUFBRSxNQUFNLEVBQUU7QUFDL0QsUUFBUSxTQUFTLFNBQVMsQ0FBQyxLQUFLLEVBQUUsRUFBRSxJQUFJLEVBQUUsSUFBSSxDQUFDLFNBQVMsQ0FBQyxJQUFJLENBQUMsS0FBSyxDQUFDLENBQUMsQ0FBQyxFQUFFLENBQUMsT0FBTyxDQUFDLEVBQUUsRUFBRSxNQUFNLENBQUMsQ0FBQyxDQUFDLENBQUMsRUFBRSxFQUFFO0FBQ25HLFFBQVEsU0FBUyxRQUFRLENBQUMsS0FBSyxFQUFFLEVBQUUsSUFBSSxFQUFFLElBQUksQ0FBQyxTQUFTLENBQUMsT0FBTyxDQUFDLENBQUMsS0FBSyxDQUFDLENBQUMs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
